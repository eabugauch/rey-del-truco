@import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Tilt+Warp&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =================================================================
   DISEÑO PREMIUM REY DEL TRUCO - PANTALLA PRINCIPAL
   ================================================================= */

.rey-premium-layout {
  background: #0a0a0a;
  background-image: 
    radial-gradient(ellipse at top, rgba(212, 165, 116, 0.05) 0%, transparent 50%),
    radial-gradient(ellipse at bottom, rgba(139, 69, 19, 0.08) 0%, transparent 50%);
  min-height: 100vh;
  overflow: hidden;
  position: relative;
}

.rey-premium-title {
  font-family: 'Tilt Warp', cursive;
  font-weight: 400;
  color: #FFFFFF;
  text-align: center;
  line-height: 0.85;
  letter-spacing: -0.02em;
  text-transform: uppercase;
  position: relative;
  z-index: 10;
}

.rey-premium-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 2rem;
  position: relative;
}

.rey-premium-container.form-container {
  min-height: 100vh;
  justify-content: space-between;
  padding: 2rem 1.5rem 1rem;
}

.rey-premium-corona {
  width: 120px;
  height: auto;
  margin-bottom: -25px;
  z-index: 20;
  filter: drop-shadow(0 4px 20px rgba(212, 165, 116, 0.4));
  animation: float-corona 4s ease-in-out infinite;
}

.rey-premium-trono {
  width: 300px;
  height: auto;
  margin-top: 10px;
  filter: 
    drop-shadow(0 15px 50px rgba(0, 0, 0, 0.7))
    drop-shadow(0 5px 20px rgba(212, 165, 116, 0.1));
  opacity: 0.98;
  position: relative;
  z-index: 1;
  animation: throne-glow 6s ease-in-out infinite;
}

@keyframes throne-glow {
  0%, 100% { 
    filter: 
      drop-shadow(0 15px 50px rgba(0, 0, 0, 0.7))
      drop-shadow(0 5px 20px rgba(212, 165, 116, 0.1));
  }
  50% { 
    filter: 
      drop-shadow(0 15px 50px rgba(0, 0, 0, 0.7))
      drop-shadow(0 5px 20px rgba(212, 165, 116, 0.2))
      drop-shadow(0 0 40px rgba(212, 165, 116, 0.05));
  }
}

.rey-premium-buttons {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  width: 85%;
  max-width: 280px;
  z-index: 5;
  transition: bottom 0.4s ease;
}

.rey-premium-form-buttons {
  display: flex;
  flex-direction: row;
  gap: 1rem;
  width: 100%;
  max-width: 400px;
  margin: 2rem auto 0;
  padding: 0;
}

.rey-premium-form-buttons .flex-1 {
  flex: 1;
}

.rey-premium-form-buttons .flex-2 {
  flex: 2;
}

/* Los botones mantienen su posición fija sin moverse */

/* Estilo especial para el botón continuar partida */
.rey-premium-button.continue-game {
  background: rgba(212, 165, 116, 0.12);
  border: 1px solid rgba(212, 165, 116, 0.25);
  color: #E6C589;
  font-weight: 500;
  position: relative;
  overflow: hidden;
}

.rey-premium-button.continue-game::before {
  background: linear-gradient(90deg, transparent, rgba(212, 165, 116, 0.15), transparent);
}

.rey-premium-button.continue-game:hover {
  background: rgba(212, 165, 116, 0.18);
  border-color: rgba(212, 165, 116, 0.35);
  color: #F5DEB3;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(212, 165, 116, 0.25);
}

.rey-premium-button.continue-game:active {
  box-shadow: 
    0 4px 16px rgba(0, 0, 0, 0.3),
    0 2px 8px rgba(212, 165, 116, 0.2);
}

.rey-premium-button {
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(212, 165, 116, 0.15);
  color: rgba(212, 165, 116, 0.9);
  padding: 0.875rem 1.5rem;
  font-family: 'Tilt Warp', cursive;
  font-weight: 400;
  font-size: 0.95rem;
  letter-spacing: 0.02em;
  text-transform: none;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(20px);
  border-radius: 12px;
  position: relative;
  overflow: hidden;
}

.rey-premium-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(212, 165, 116, 0.1), transparent);
  transition: left 0.5s ease;
}

.rey-premium-button:hover::before {
  left: 100%;
}

.rey-premium-button:hover {
  background: rgba(212, 165, 116, 0.08);
  border-color: rgba(212, 165, 116, 0.25);
  color: #F5DEB3;
  transform: translateY(-1px);
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(212, 165, 116, 0.15);
}

.rey-premium-button:active {
  transform: translateY(0);
  box-shadow: 
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 2px 8px rgba(212, 165, 116, 0.1);
}

@keyframes float-corona {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-8px); }
}

/* ================================================================
   ELEMENTOS PREMIUM ADICIONALES
   ================================================================ */

.rey-premium-subtitle {
  font-family: 'Tilt Warp', cursive;
  font-weight: 400;
  text-align: center;
  letter-spacing: 0.02em;
  color: #F5DEB3;
  font-size: 1.125rem;
  opacity: 0.9;
}

/* Header minimalista */
.rey-premium-header-minimal {
  text-align: center;
  margin-bottom: 2rem;
}

.rey-premium-title-compact {
  font-family: 'Tilt Warp', cursive;
  font-size: 1.75rem;
  color: #FFFFFF;
  text-align: center;
  line-height: 1.2;
  margin-top: 0.5rem;
}

.rey-premium-corona-top {
  width: 120px;
  height: auto;
  display: block;
  margin: 0 auto;
  filter: drop-shadow(0 4px 20px rgba(212, 165, 116, 0.4));
  animation: crown-float 3s ease-in-out infinite;
}

@keyframes crown-float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-5px) rotate(3deg); }
}

/* Contenido del formulario */
.rey-premium-form-content {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.text-golden {
  background: linear-gradient(135deg, #D4A574, #C59660);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 4px 20px rgba(212, 165, 116, 0.3);
}

.rey-premium-info-card {
  background: rgba(42, 26, 15, 0.3);
  border: 1px solid rgba(212, 165, 116, 0.2);
  backdrop-filter: blur(4px);
  padding: 1rem;
  border-radius: 8px;
  transition: all 0.3s ease;
}

.rey-premium-info-card:hover {
  background: rgba(42, 26, 15, 0.4);
  border-color: rgba(212, 165, 116, 0.3);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.rey-premium-label {
  color: #D4A574;
  font-family: 'Tilt Warp', cursive;
  font-weight: 500;
  font-size: 1rem;
}

.rey-premium-value {
  color: #F5DEB3;
  font-family: 'Tilt Warp', cursive;
  font-weight: 400;
  font-size: 1rem;
}

.rey-premium-input {
  background: transparent;
  border: none;
  border-bottom: 2px solid #D4A574;
  color: #F5DEB3;
  font-family: 'Tilt Warp', cursive;
  font-size: 1.125rem;
  padding: 0.5rem 0.25rem;
  outline: none;
  transition: all 0.3s ease;
}

.rey-premium-input:focus {
  border-bottom-color: #E6C589;
  box-shadow: 0 2px 8px rgba(212, 165, 116, 0.3);
}

.rey-premium-input::placeholder {
  color: rgba(245, 222, 179, 0.5);
}

.rey-premium-button-secondary {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(212, 165, 116, 0.3);
  color: #F5DEB3;
}

.rey-premium-button-secondary:hover {
  background: rgba(0, 0, 0, 0.4);
  border-color: rgba(212, 165, 116, 0.5);
  color: #FFFFFF;
}

.rey-premium-button-primary {
  background: #D4A574;
  border: 1px solid #D4A574;
  color: #3B2414;
  font-weight: 600;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.rey-premium-button-primary:hover {
  background: #E6C589;
  border-color: #E6C589;
  box-shadow: 0 6px 20px rgba(212, 165, 116, 0.4);
}

.rey-premium-button-ghost {
  background: rgba(42, 26, 15, 0.3);
  border: 1px solid rgba(212, 165, 116, 0.3);
  color: #F5DEB3;
}

.rey-premium-button-ghost:hover {
  background: rgba(42, 26, 15, 0.5);
  border-color: rgba(212, 165, 116, 0.5);
}

/* Teams container con VS centrado */
.rey-premium-teams-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1.5rem;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(212, 165, 116, 0.15);
  border-radius: 16px;
}

.rey-premium-input-compact {
  flex: 1;
  padding: 0.75rem;
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(212, 165, 116, 0.2);
  border-radius: 8px;
  color: #FFFFFF;
  font-family: 'Tilt Warp', cursive;
  font-size: 1rem;
  text-align: center;
  transition: all 0.3s ease;
  outline: none;
}

.rey-premium-input-compact:focus {
  border-color: #D4A574;
  background: rgba(0, 0, 0, 0.3);
  box-shadow: 0 0 0 2px rgba(212, 165, 116, 0.2);
}

.rey-premium-input-compact::placeholder {
  color: rgba(245, 222, 179, 0.5);
}

.rey-premium-vs-badge {
  background: linear-gradient(135deg, #D4A574, #C59660);
  color: #0a0a0a;
  font-family: 'Tilt Warp', cursive;
  font-weight: bold;
  border-radius: 50%;
  font-size: 1rem;
  box-shadow: 0 4px 12px rgba(212, 165, 116, 0.4);
  border: 2px solid rgba(255, 255, 255, 0.2);
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin: 0 0.5rem;
}

.rey-premium-team-card {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid rgba(255, 215, 0, 0.2);
  border-radius: 20px;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.rey-premium-team-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent, rgba(255, 215, 0, 0.1));
  opacity: 0;
  transition: opacity 0.3s ease;
}

.rey-premium-team-card:hover::before {
  opacity: 1;
}

.rey-premium-team-card:hover {
  transform: translateY(-2px);
  border-color: rgba(255, 215, 0, 0.3);
  box-shadow: 0 8px 32px rgba(255, 215, 0, 0.15);
}

.team-icon {
  font-size: 3rem;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
}

.team-input-wrapper {
  flex: 1;
}

.team-label {
  display: block;
  color: #FFD700;
  font-family: 'Tilt Warp', cursive;
  font-size: 0.875rem;
  margin-bottom: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.rey-premium-input-modern {
  width: 100%;
  padding: 0.75rem 1rem;
  background: rgba(0, 0, 0, 0.3);
  border: none;
  border-bottom: 2px solid rgba(255, 215, 0, 0.3);
  color: #FFFFFF;
  font-family: 'Tilt Warp', cursive;
  font-size: 1.125rem;
  transition: all 0.3s ease;
  outline: none;
}

.rey-premium-input-modern:focus {
  border-bottom-color: #FFD700;
  background: rgba(0, 0, 0, 0.4);
  box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
}

.rey-premium-input-modern::placeholder {
  color: rgba(245, 222, 179, 0.5);
}

/* VS Divider */
.rey-premium-vs-divider {
  text-align: center;
  margin: 1rem 0;
  position: relative;
}

.vs-text {
  font-family: 'Tilt Warp', cursive;
  font-size: 1.5rem;
  color: #FFD700;
  font-weight: bold;
  text-shadow: 0 2px 8px rgba(255, 215, 0, 0.5);
}

.vs-decoration {
  font-size: 2rem;
  margin-top: 0.25rem;
}

/* Points Selector Compacto */
.rey-premium-points-selector {
  text-align: center;
  margin-bottom: 1rem;
}

.points-title {
  font-family: 'Tilt Warp', cursive;
  font-size: 1rem;
  color: #D4A574;
  margin-bottom: 1rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.points-title-styled {
  font-family: 'Tilt Warp', cursive;
  font-size: 1.25rem;
  color: #FFFFFF;
  margin-bottom: 1rem;
  text-align: center;
  letter-spacing: 0.02em;
}

.points-options {
  display: flex;
  gap: 0.75rem;
  justify-content: center;
}

.point-option {
  flex: 1;
  max-width: 90px;
  padding: 1rem 0.5rem;
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid rgba(212, 165, 116, 0.2);
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
}

.point-option:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(212, 165, 116, 0.4);
  transform: translateY(-2px);
}

.point-option.selected {
  background: rgba(212, 165, 116, 0.15);
  border-color: #D4A574;
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(212, 165, 116, 0.3);
}

.point-value {
  font-family: 'Tilt Warp', cursive;
  font-size: 1.5rem;
  font-weight: bold;
  color: #D4A574;
}

.point-icon {
  font-size: 1.25rem;
  margin: 0.25rem 0;
}

.point-label {
  font-family: 'Tilt Warp', cursive;
  font-size: 0.75rem;
  color: #F5DEB3;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.game-mode-card {
  position: relative;
  padding: 1.5rem 1rem;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
  border: 2px solid rgba(255, 215, 0, 0.2);
  border-radius: 24px;
  cursor: pointer;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.game-mode-card:hover {
  transform: translateY(-4px);
  border-color: rgba(255, 215, 0, 0.4);
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
  box-shadow: 0 8px 32px rgba(255, 215, 0, 0.2);
}

.game-mode-card.selected {
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.05));
  border-color: #FFD700;
  transform: translateY(-8px) scale(1.05);
  box-shadow: 0 12px 40px rgba(255, 215, 0, 0.3);
}

.mode-reward {
  position: absolute;
  top: -0.5rem;
  right: -0.5rem;
  font-size: 1.5rem;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.mode-icon {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
}

.mode-points {
  font-family: 'Tilt Warp', cursive;
  font-size: 2rem;
  font-weight: bold;
  color: #FFD700;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.mode-title {
  font-family: 'Tilt Warp', cursive;
  font-size: 0.875rem;
  color: #FFFFFF;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.mode-description {
  font-family: 'Tilt Warp', cursive;
  font-size: 0.75rem;
  color: #F5DEB3;
  opacity: 0.8;
}

.mode-time {
  font-family: 'Tilt Warp', cursive;
  font-size: 0.75rem;
  color: #FFD700;
  opacity: 0.7;
}

.selection-glow {
  position: absolute;
  inset: -2px;
  background: radial-gradient(circle at center, rgba(255, 215, 0, 0.5), transparent);
  opacity: 0.5;
  animation: glow-pulse 2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes glow-pulse {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.05); }
}

/* Epic Button */
.rey-premium-epic-button {
  position: relative;
  padding: 1.25rem 2rem;
  font-family: 'Tilt Warp', cursive;
  font-size: 1.25rem;
  font-weight: bold;
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: #0a0a0a;
  border: none;
  border-radius: 16px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 
    0 8px 32px rgba(255, 215, 0, 0.4),
    inset 0 2px 4px rgba(255, 255, 255, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.rey-premium-epic-button:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 12px 40px rgba(255, 215, 0, 0.6),
    inset 0 2px 4px rgba(255, 255, 255, 0.4);
}

.rey-premium-epic-button:active {
  transform: translateY(0);
  box-shadow: 
    0 4px 20px rgba(255, 215, 0, 0.4),
    inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

.epic-text {
  position: relative;
  z-index: 2;
}

.epic-icon {
  position: relative;
  z-index: 2;
  font-size: 1.5rem;
}

.epic-shine {
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  transform: rotate(45deg);
  animation: shine-sweep 3s ease-in-out infinite;
}

@keyframes shine-sweep {
  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
  100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .rey-premium-title div span:first-child { font-size: 5rem !important; }
  .rey-premium-title div span:last-child { font-size: 3.5rem !important; }
  .rey-premium-title span:last-child { font-size: 5rem !important; }
  
  .rey-premium-corona {
    width: 100px;
    margin-bottom: -20px;
  }
  
  .rey-premium-trono {
    width: 250px;
    margin-top: 5px;
  }
  
  .rey-premium-container {
    padding: 1rem;
  }
  
  .rey-premium-buttons {
    width: 90%;
    max-width: 320px;
  }
  
  .rey-premium-button {
    font-size: 1.125rem;
    padding: 0.875rem 1.5rem;
  }
  
  .rey-premium-info-card {
    padding: 0.75rem;
  }
  
  .rey-premium-input {
    font-size: 1rem;
  }
}

@media (max-width: 480px) {
  .rey-premium-title div span:first-child { font-size: 4rem !important; }
  .rey-premium-title div span:last-child { font-size: 2.8rem !important; }
  .rey-premium-title span:last-child { font-size: 4rem !important; }
  
  .rey-premium-corona {
    width: 80px;
    margin-bottom: -15px;
  }
  
  .rey-premium-trono {
    width: 200px;
  }
  
  .rey-premium-button {
    font-size: 1rem;
    padding: 0.75rem 1.25rem;
  }
  
  /* Mobile adjustments for compact design */
  .rey-premium-title-compact {
    font-size: 1.5rem;
  }
  
  .rey-premium-corona-top {
    width: 100px;
  }
  
  .rey-premium-teams-container {
    flex-direction: column;
    gap: 0.75rem;
    padding: 0.75rem;
  }
  
  .rey-premium-input-compact:first-child {
    order: 1;
  }
  
  .rey-premium-vs-badge {
    order: 2;
    font-size: 0.75rem;
    width: 45px;
    height: 45px;
  }
  
  .rey-premium-input-compact:last-child {
    order: 3;
  }
  
  .points-options {
    gap: 0.5rem;
  }
  
  .point-option {
    max-width: 80px;
    padding: 0.75rem 0.25rem;
  }
  
  .point-value {
    font-size: 1.25rem;
  }
  
  .point-icon {
    font-size: 1rem;
  }
  
  .point-label {
    font-size: 0.625rem;
  }
}

/* =================================================================
   SISTEMA DE PALETAS COMPLETO - ANOTADOR DE TRUCO
.rey-cinematic-container {
  background: linear-gradient(135deg, 
    #0a0a0a 0%, 
    #1a1611 20%, 
    #2a1f1a 40%, 
    #1a1611 60%, 
    #0a0a0a 100%);
  background-size: 300% 300%;
  animation: cinematic-bg 20s ease-in-out infinite;
  position: relative;
  overflow: hidden;
  min-height: 100vh;
}

.rey-cinematic-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(ellipse at 20% 20%, rgba(212, 175, 55, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 80%, rgba(248, 231, 28, 0.05) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, rgba(184, 134, 11, 0.03) 0%, transparent 70%);
  pointer-events: none;
  z-index: 1;
}

.rey-cinematic-container::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d4af37' fill-opacity='0.02' fill-rule='evenodd'%3E%3Cpath d='M20 20c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20zm-30 0c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10-10-4.477-10-10z'/%3E%3C/g%3E%3C/svg%3E");
  opacity: 0.4;
  pointer-events: none;
  z-index: 2;
}

@keyframes cinematic-bg {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* 2. CARD PRINCIPAL PREMIUM */
.rey-premium-card {
  background: linear-gradient(145deg, 
    rgba(42, 26, 15, 0.6) 0%, 
    rgba(26, 22, 17, 0.8) 30%, 
    rgba(31, 22, 17, 0.9) 70%, 
    rgba(42, 26, 15, 0.6) 100%);
  border: 3px solid transparent;
  border-image: linear-gradient(45deg, 
    var(--rey-gold-dark) 0%, 
    var(--rey-gold-bright) 25%, 
    var(--rey-gold-main) 50%, 
    var(--rey-gold-bright) 75%, 
    var(--rey-gold-dark) 100%) 1;
  backdrop-filter: blur(20px);
  box-shadow: 
    0 20px 60px rgba(0, 0, 0, 0.7),
    inset 0 1px 0 rgba(212, 175, 55, 0.3),
    inset 0 -1px 0 rgba(184, 134, 11, 0.2),
    0 0 40px rgba(248, 231, 28, 0.15);
  position: relative;
  overflow: hidden;
  z-index: 10;
}

.rey-premium-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, 
    transparent 30%, 
    rgba(212, 175, 55, 0.05) 40%, 
    rgba(248, 231, 28, 0.08) 50%, 
    rgba(212, 175, 55, 0.05) 60%, 
    transparent 70%);
  background-size: 200% 200%;
  animation: card-shine 8s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}

@keyframes card-shine {
  0%, 100% { background-position: -200% 0%; }
  50% { background-position: 200% 0%; }
}

/* 3. ORNAMENTOS DECORATIVOS */
.rey-ornamental-corners {
  position: absolute;
  top: -1px;
  left: -1px;
  right: -1px;
  bottom: -1px;
  pointer-events: none;
  z-index: 3;
}

.rey-ornamental-corners::before,
.rey-ornamental-corners::after {
  content: '';
  position: absolute;
  width: 40px;
  height: 40px;
  background: linear-gradient(45deg, 
    var(--rey-gold-bright), 
    var(--rey-gold-main), 
    var(--rey-gold-dark));
  clip-path: polygon(0 0, 100% 0, 100% 20%, 20% 100%, 0 100%);
  filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.6));
}

.rey-ornamental-corners::before {
  top: 0;
  left: 0;
}

.rey-ornamental-corners::after {
  bottom: 0;
  right: 0;
  transform: rotate(180deg);
}

/* 4. SEPARADORES DORADOS ORNAMENTALES */
.rey-ornamental-separator {
  height: 2px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(212, 175, 55, 0.3) 10%, 
    var(--rey-gold-bright) 30%, 
    var(--rey-gold-main) 50%, 
    var(--rey-gold-bright) 70%, 
    rgba(212, 175, 55, 0.3) 90%, 
    transparent 100%);
  position: relative;
  margin: 1rem 0;
  animation: separator-glow 4s ease-in-out infinite;
}

.rey-ornamental-separator::before {
  content: '◆';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--rey-bg-elevated);
  color: var(--rey-gold-bright);
  font-size: 1.2rem;
  padding: 0 1rem;
  text-shadow: 0 0 10px rgba(212, 175, 55, 0.8);
}

.rey-ornamental-separator-vertical {
  width: 2px;
  height: 100%;
  background: linear-gradient(0deg, 
    transparent 0%, 
    rgba(212, 175, 55, 0.3) 10%, 
    var(--rey-gold-bright) 30%, 
    var(--rey-gold-main) 50%, 
    var(--rey-gold-bright) 70%, 
    rgba(212, 175, 55, 0.3) 90%, 
    transparent 100%);
  position: relative;
  animation: separator-glow 4s ease-in-out infinite;
}

@keyframes separator-glow {
  0%, 100% { 
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.4);
  }
  50% { 
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.6);
  }
}

/* 5. ÁREA DE NOMBRES CINEMATOGRÁFICA */
.rey-names-container {
  position: relative;
  padding: 2rem 1rem;
  background: linear-gradient(135deg, 
    rgba(26, 22, 17, 0.4) 0%, 
    rgba(42, 26, 15, 0.6) 50%, 
    rgba(26, 22, 17, 0.4) 100%);
  border-bottom: 3px solid transparent;
  border-image: linear-gradient(90deg, 
    transparent 0%, 
    var(--rey-gold-dark) 20%, 
    var(--rey-gold-bright) 50%, 
    var(--rey-gold-dark) 80%, 
    transparent 100%) 1;
}

.rey-names-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23d4af37' fill-opacity='0.03'%3E%3Cpath d='M30 30c0-16.569-13.431-30-30-30S-30 13.431-30 30s13.431 30 30 30 30-13.431 30-30zm-20 0c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10-10-4.477-10-10z'/%3E%3C/g%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 1;
}

.rey-player-name-input {
  background: transparent;
  border: none;
  border-bottom: 3px solid var(--rey-gold-dark);
  color: var(--rey-gold-bright);
  font-family: 'Cinzel Decorative', serif;
  font-weight: 700;
  font-size: clamp(1.8rem, 4vw, 3.5rem);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  outline: none;
  transition: all 0.4s ease;
  position: relative;
  z-index: 2;
  text-shadow: 
    2px 2px 0px var(--rey-brown-deep),
    4px 4px 8px rgba(0, 0, 0, 0.8),
    0 0 20px rgba(212, 175, 55, 0.4);
}

.rey-player-name-input:focus {
  border-bottom-color: var(--rey-gold-bright);
  box-shadow: 
    0 4px 20px rgba(212, 175, 55, 0.3),
    0 0 40px rgba(248, 231, 28, 0.2);
  transform: translateY(-2px);
}

.rey-player-name-input::placeholder {
  color: rgba(212, 175, 55, 0.5);
  font-style: italic;
}

/* 6. ÁREA DE PUNTOS PREMIUM */
.rey-score-container {
  position: relative;
  padding: 1.5rem;
  background: linear-gradient(135deg, 
    rgba(31, 22, 17, 0.6) 0%, 
    rgba(42, 26, 15, 0.4) 50%, 
    rgba(31, 22, 17, 0.6) 100%);
  border-radius: 0;
  border: 2px solid var(--rey-gold-dark);
  overflow: hidden;
}

.rey-score-number {
  font-family: 'Cinzel Decorative', serif;
  font-weight: 900;
  font-size: clamp(2.5rem, 6vw, 5rem);
  color: var(--rey-gold-bright);
  text-align: center;
  text-shadow: 
    3px 3px 0px var(--rey-brown-deep),
    6px 6px 12px rgba(0, 0, 0, 0.9),
    0 0 30px rgba(212, 175, 55, 0.6),
    0 0 60px rgba(248, 231, 28, 0.3);
  transform: rotate(-1deg);
  animation: score-pulse 3s ease-in-out infinite;
  position: relative;
  z-index: 2;
}

.rey-score-number.winning {
  animation: score-victory 2s ease-in-out infinite;
  color: var(--rey-gold-bright);
  filter: drop-shadow(0 0 20px rgba(248, 231, 28, 0.8));
}

@keyframes score-pulse {
  0%, 100% { 
    text-shadow: 
      3px 3px 0px var(--rey-brown-deep),
      6px 6px 12px rgba(0, 0, 0, 0.9),
      0 0 30px rgba(212, 175, 55, 0.6);
  }
  50% { 
    text-shadow: 
      3px 3px 0px var(--rey-brown-deep),
      6px 6px 12px rgba(0, 0, 0, 0.9),
      0 0 40px rgba(212, 175, 55, 0.8),
      0 0 80px rgba(248, 231, 28, 0.4);
  }
}

@keyframes score-victory {
  0%, 100% { 
    transform: rotate(-1deg) scale(1);
    filter: drop-shadow(0 0 20px rgba(248, 231, 28, 0.8));
  }
  50% { 
    transform: rotate(-1deg) scale(1.05);
    filter: drop-shadow(0 0 40px rgba(248, 231, 28, 1));
  }
}

/* 7. SISTEMA DE ESPACIADO PREMIUM */
.rey-premium-spacing {
  padding: clamp(1rem, 3vw, 2rem);
  gap: clamp(1rem, 2vw, 1.5rem);
}

.rey-premium-gap {
  gap: clamp(0.75rem, 1.5vw, 1.25rem);
}

.rey-premium-padding {
  padding: clamp(1.5rem, 4vw, 3rem);
}

/* 8. EFECTOS DE TRANSICIÓN CINEMATOGRÁFICA */
.rey-screen-transition {
  transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.rey-screen-transition.entering {
  opacity: 0;
  transform: perspective(1000px) rotateY(15deg) scale(0.9);
}

.rey-screen-transition.entered {
  opacity: 1;
  transform: perspective(1000px) rotateY(0deg) scale(1);
}

.rey-premium-hover {
  transition: all 0.3s ease;
}

.rey-premium-hover:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.5),
    0 0 30px rgba(212, 175, 55, 0.2);
}

/* 9. EFECTOS DE PARTÍCULAS DORADAS */
.rey-floating-particles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

.rey-floating-particles::before,
.rey-floating-particles::after {
  content: '';
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--rey-gold-bright);
  border-radius: 50%;
  animation: float-particle 8s linear infinite;
}

.rey-floating-particles::before {
  top: 20%;
  left: 10%;
  animation-delay: 0s;
}

.rey-floating-particles::after {
  top: 70%;
  right: 15%;
  animation-delay: 4s;
}

@keyframes float-particle {
  0% {
    opacity: 0;
    transform: translateY(0px) scale(0);
  }
  10% {
    opacity: 1;
    transform: translateY(-10px) scale(1);
  }
  90% {
    opacity: 1;
    transform: translateY(-50px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-60px) scale(0);
  }
}

/* 10. RESPONSIVE BREAKPOINTS OPTIMIZADOS */
@media (max-width: 768px) {
  .rey-cinematic-container {
    background-size: 200% 200%;
  }
  
  .rey-premium-card {
    margin: 1rem;
    border-width: 2px;
  }
  
  .rey-names-container {
    padding: 1.5rem 0.75rem;
  }
  
  .rey-player-name-input {
    font-size: clamp(1.5rem, 5vw, 2.5rem);
  }
  
  .rey-score-number {
    font-size: clamp(2rem, 8vw, 4rem);
  }
  
  .rey-score-container {
    padding: 1rem;
  }
}

@media (min-width: 1024px) {
  .rey-cinematic-container {
    background-size: 400% 400%;
  }
  
  .rey-premium-card {
    max-width: 1200px;
    margin: 2rem auto;
    border-width: 4px;
  }
  
  .rey-names-container {
    padding: 3rem 2rem;
  }
  
  .rey-ornamental-corners::before,
  .rey-ornamental-corners::after {
    width: 60px;
    height: 60px;
  }
  
  .rey-score-container {
    padding: 2rem;
  }
}

/* 11. MEJORAS PARA ACCESIBILIDAD */
@media (prefers-reduced-motion: reduce) {
  .rey-cinematic-container,
  .rey-premium-card::before,
  .rey-ornamental-separator,
  .rey-ornamental-separator-vertical,
  .rey-score-number,
  .rey-floating-particles::before,
  .rey-floating-particles::after {
    animation: none;
  }
  
  .rey-screen-transition {
    transition: none;
  }
}

/* =================================================================
   SISTEMA DE PALETAS COMPLETO - ANOTADOR DE TRUCO
   Panel de 5 Especialistas en Color - Versión Final
   ================================================================= */

/* PALETAS PRINCIPALES - VARIABLES CSS */
:root {
  /* 🌅 TEMA CÁLIDO: "ATARDECER PAMPEANO" */
  --calido-bg-primary: #F7F1E8;
  --calido-bg-surface: rgba(255, 255, 255, 0.85);
  --calido-bg-elevated: #FFFFFF;
  --calido-text-primary: #2D1810;
  --calido-text-secondary: #5D4037;
  --calido-text-muted: #8D6E63;
  --calido-color-primary: #8B4513;
  --calido-color-secondary: #D2B48C;
  --calido-color-accent: #FF6B35;
  --calido-color-success: #2E7D32;
  --calido-color-destructive: #D32F2F;
  --calido-ink-color: #3E2723;
  --calido-ink-accent: #FF6B35;
  --calido-border-primary: rgba(139, 69, 19, 0.2);
  --calido-border-accent: rgba(255, 107, 53, 0.3);
  
  /* 🌙 TEMA OSCURO: "NOCHE DE ASADO" */
  --oscuro-bg-primary: #1A1611;
  --oscuro-bg-surface: rgba(42, 37, 31, 0.85);
  --oscuro-bg-elevated: #2A1F1A;
  --oscuro-text-primary: #F5F1E8;
  --oscuro-text-secondary: #D7CCC8;
  --oscuro-text-muted: #A1887F;
  --oscuro-color-primary: #E8D5B7;
  --oscuro-color-secondary: #A67C5A;
  --oscuro-color-accent: #FF8A50;
  --oscuro-color-success: #66BB6A;
  --oscuro-color-destructive: #EF5350;
  --oscuro-ink-color: #D7CCC8;
  --oscuro-ink-accent: #FF8A50;
  --oscuro-border-primary: rgba(232, 213, 183, 0.15);
  --oscuro-border-accent: rgba(255, 138, 80, 0.3);

  /* 👑 TEMA REY DEL TRUCO: "REALEZA ARGENTINA" - CINEMATOGRÁFICO */
  --rey-bg-primary: #1F1611;
  --rey-bg-surface: rgba(31, 22, 17, 0.95);
  --rey-bg-elevated: #2A1F1A;
  --rey-text-primary: #FFF8E7;
  --rey-text-secondary: ##D4AF37;
  --rey-text-muted: #D4AF37;
  --rey-color-primary: ##D4AF37;
  --rey-color-secondary: #D4AF37;
  --rey-color-accent: #FFD700;
  --rey-color-success: #50C878;
  --rey-color-destructive: #DC143C;
  --rey-ink-color: #FFF8E7;
  --rey-ink-accent: ##D4AF37;
  --rey-border-primary: rgba(248, 231, 28, 0.3);
  --rey-border-accent: rgba(255, 215, 0, 0.6);
  --rey-pattern-color: #1A110D;
  
  /* Nuevos colores dramáticos */
  --rey-gold-bright: ##D4AF37;
  --rey-gold-main: #D4AF37;
  --rey-gold-dark: #B8860B;
  --rey-shadow-gold: rgba(248, 231, 28, 0.5);
  --rey-glow-gold: rgba(255, 215, 0, 0.8);
  --rey-brown-rich: #3E2723;
  --rey-brown-deep: #1F1611;
}

/* FIX NUCLEAR PARA ELIMINAR ÓVALO - FORZAR TODO RECTANGULAR */
* {
  border-radius: 0 !important;
}

html, body, #root, .App {
  border-radius: 0 !important;
  clip-path: none !important;
  mask: none !important;
}

/* =================================================================
   SISTEMA DE COLORES POR TEMAS - IMPLEMENTACIÓN COMPLETA
   ================================================================= */

/* 🌅 TEMA CÁLIDO: "ATARDECER PAMPEANO" */
.theme-calido {
  --current-bg-primary: var(--calido-bg-primary);
  --current-bg-surface: var(--calido-bg-surface);
  --current-bg-elevated: var(--calido-bg-elevated);
  --current-text-primary: var(--calido-text-primary);
  --current-text-secondary: var(--calido-text-secondary);
  --current-text-muted: var(--calido-text-muted);
  --current-color-primary: var(--calido-color-primary);
  --current-color-secondary: var(--calido-color-secondary);
  --current-color-accent: var(--calido-color-accent);
  --current-color-success: var(--calido-color-success);
  --current-color-destructive: var(--calido-color-destructive);
  --current-ink-color: var(--calido-ink-color);
  --current-ink-accent: var(--calido-ink-accent);
  --current-border-primary: var(--calido-border-primary);
  --current-border-accent: var(--calido-border-accent);
}

/* 🌙 TEMA OSCURO: "NOCHE DE ASADO" */
.theme-oscuro {
  --current-bg-primary: var(--oscuro-bg-primary);
  --current-bg-surface: var(--oscuro-bg-surface);
  --current-bg-elevated: var(--oscuro-bg-elevated);
  --current-text-primary: var(--oscuro-text-primary);
  --current-text-secondary: var(--oscuro-text-secondary);
  --current-text-muted: var(--oscuro-text-muted);
  --current-color-primary: var(--oscuro-color-primary);
  --current-color-secondary: var(--oscuro-color-secondary);
  --current-color-accent: var(--oscuro-color-accent);
  --current-color-success: var(--oscuro-color-success);
  --current-color-destructive: var(--oscuro-color-destructive);
  --current-ink-color: var(--oscuro-ink-color);
  --current-ink-accent: var(--oscuro-ink-accent);
  --current-border-primary: var(--oscuro-border-primary);
  --current-border-accent: var(--oscuro-border-accent);
}

/* 👑 TEMA REY DEL TRUCO: "REALEZA ARGENTINA" */
.theme-rey {
  --current-bg-primary: var(--rey-bg-primary);
  --current-bg-surface: var(--rey-bg-surface);
  --current-bg-elevated: var(--rey-bg-elevated);
  --current-text-primary: var(--rey-text-primary);
  --current-text-secondary: var(--rey-text-secondary);
  --current-text-muted: var(--rey-text-muted);
  --current-color-primary: var(--rey-color-primary);
  --current-color-secondary: var(--rey-color-secondary);
  --current-color-accent: var(--rey-color-accent);
  --current-color-success: var(--rey-color-success);
  --current-color-destructive: var(--rey-color-destructive);
  --current-ink-color: var(--rey-ink-color);
  --current-ink-accent: var(--rey-ink-accent);
  --current-border-primary: var(--rey-border-primary);
  --current-border-accent: var(--rey-border-accent);
}


/* =================================================================
   SISTEMA DE FUENTES Y TIPOGRAFÍA
   ================================================================= */

.handwritten-base {
  font-family: 'Kalam', cursive;
  letter-spacing: 0.03em;
  text-rendering: optimizeLegibility;
}

.handwritten-title {
  font-family: 'Caveat', cursive;
  font-weight: 700;
  letter-spacing: 0.06em;
  line-height: 1.1;
  text-rendering: optimizeLegibility;
  font-variation-settings: 'wght' 700;
}

.handwritten-normal {
  font-family: 'Kalam', cursive;
  font-weight: 400;
  letter-spacing: 0.025em;
  line-height: 1.4;
  text-rendering: optimizeLegibility;
  font-variation-settings: 'wght' 400;
}

.handwritten-bold {
  font-family: 'Kalam', cursive;
  font-weight: 700;
  letter-spacing: 0.025em;
  line-height: 1.3;
  text-rendering: optimizeLegibility;
  font-variation-settings: 'wght' 700;
  text-shadow: 
    0 1px 1px rgba(0, 0, 0, 0.1),
    1px 0 0 rgba(0, 0, 0, 0.05);
}

.handwritten-light {
  font-family: 'Kalam', cursive;
  font-weight: 300;
  letter-spacing: 0.04em;
  line-height: 1.5;
  text-rendering: optimizeLegibility;
  font-variation-settings: 'wght' 300;
}

/* TIPOGRAFÍAS ESPECÍFICAS PARA TEMA REY DEL TRUCO */
.rey-script {
  font-family: 'Dancing Script', cursive;
  font-weight: 500;
  letter-spacing: 0.02em;
  line-height: 1.1;
  text-rendering: optimizeLegibility;
}

.rey-display {
  font-family: 'Cinzel Decorative', serif;
  font-weight: 900;
  letter-spacing: 0.15em;
  line-height: 0.85;
  text-rendering: optimizeLegibility;
  text-transform: uppercase;
  position: relative;
  
  /* Gradiente dorado complejo como en tu imagen */
  background: linear-gradient(
    135deg,
    #F8E71C 0%,
    #E6B800 15%,
    #D4AF37 30%,
    #B8860B 45%,
    #D4AF37 60%,
    #E6B800 75%,
    #F8E71C 90%,
    #FFEB3B 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 300% 300%;
  
  /* Múltiples sombras para volumen 3D */
  filter: 
    drop-shadow(2px 2px 0px #8B4513)
    drop-shadow(4px 4px 0px #654321)
    drop-shadow(6px 6px 8px rgba(0,0,0,0.8))
    drop-shadow(0 0 25px rgba(248,231,28,0.4))
    drop-shadow(0 0 50px rgba(212,175,55,0.2));
    
  /* Animación sutil del gradiente */
  animation: shimmer 4s ease-in-out infinite;
  transform: rotate(0.5deg);
}

/* Capa de profundidad 3D */
.rey-display::before {
  content: attr(data-text);
  position: absolute;
  top: 3px;
  left: 3px;
  z-index: -1;
  background: linear-gradient(135deg, #654321 0%, #8B4513 50%, #654321 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: blur(0.5px);
}

/* Capa de highlight metálico */
.rey-display::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
  background: linear-gradient(
    45deg,
    transparent 30%,
    rgba(255,255,255,0.3) 40%,
    rgba(255,255,255,0.6) 50%,
    rgba(255,255,255,0.3) 60%,
    transparent 70%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 200% 200%;
  animation: highlight 3s ease-in-out infinite;
  mix-blend-mode: overlay;
}

/* Animaciones */
@keyframes shimmer {
  0%, 100% { 
    background-position: 0% 50%; 
    filter: 
      drop-shadow(2px 2px 0px #8B4513)
      drop-shadow(4px 4px 0px #654321)
      drop-shadow(6px 6px 8px rgba(0,0,0,0.8))
      drop-shadow(0 0 25px rgba(248,231,28,0.4));
  }
  50% { 
    background-position: 100% 50%; 
    filter: 
      drop-shadow(2px 2px 0px #8B4513)
      drop-shadow(4px 4px 0px #654321)
      drop-shadow(6px 6px 8px rgba(0,0,0,0.8))
      drop-shadow(0 0 35px rgba(248,231,28,0.6))
      drop-shadow(0 0 60px rgba(248,231,28,0.3));
  }
}

@keyframes highlight {
  0%, 100% { background-position: -200% 0%; }
  50% { background-position: 200% 0%; }
}

.rey-buttons {
  font-family: 'Oswald', sans-serif;
  font-weight: 500;
  letter-spacing: 0.5px;
  line-height: 1.2;
  text-rendering: optimizeLegibility;
  text-transform: uppercase;
}

/* NUEVAS TIPOGRAFÍAS ORNAMENTALES */
.rey-ornate {
  font-family: 'Cinzel Decorative', serif;
  font-weight: 700;
  letter-spacing: 0.05em;
  text-rendering: optimizeLegibility;
  text-shadow: 
    2px 2px 0px var(--rey-brown-deep),
    4px 4px 8px rgba(0, 0, 0, 0.8),
    0 0 20px var(--rey-shadow-gold);
}

.rey-vintage {
  font-family: 'Fredericka the Great', cursive;
  font-weight: 400;
  letter-spacing: 0.08em;
  text-rendering: optimizeLegibility;
}

.rey-western {
  font-family: 'Rye', cursive;
  font-weight: 400;
  letter-spacing: 0.03em;
  text-rendering: optimizeLegibility;
}

/* EFECTOS DE SOMBRA Y PROFUNDIDAD PARA TEMA REY */
.theme-rey .rey-svg-corona {
  filter: drop-shadow(2px 3px 6px rgba(42, 26, 15, 0.4));
}

.theme-rey .rey-svg-mate {
  filter: drop-shadow(2px 3px 5px rgba(42, 26, 15, 0.5));
}

.theme-rey .rey-svg-naipe {
  filter: drop-shadow(2px 3px 5px rgba(42, 26, 15, 0.5));
}

/* BOTONES ESPECIALES PARA TEMA REY - CINEMATOGRÁFICOS */
.theme-rey button {
  background: linear-gradient(145deg, 
    var(--rey-gold-bright) 0%, 
    var(--rey-gold-main) 30%, 
    var(--rey-gold-dark) 100%) !important;
  border: 3px solid var(--rey-brown-rich) !important;
  border-radius: 0 !important;
  box-shadow: 
    0 6px 15px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(255, 255, 255, 0.3),
    inset 0 -2px 4px rgba(184, 134, 11, 0.3),
    0 0 20px var(--rey-shadow-gold) !important;
  text-shadow: 
    1px 1px 0px var(--rey-brown-deep),
    2px 2px 4px rgba(0, 0, 0, 0.8) !important;
  color: var(--rey-brown-deep) !important;
  font-weight: 700 !important;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.theme-rey button::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, 
    transparent 30%, 
    rgba(255, 255, 255, 0.3) 50%, 
    transparent 70%);
  transform: translateX(-100%);
  transition: transform 0.6s ease;
}

.theme-rey button:hover::before {
  transform: translateX(100%);
}

.theme-rey button:hover {
  background: linear-gradient(145deg, 
    #FFE55C 0%, 
    var(--rey-gold-bright) 30%, 
    var(--rey-gold-main) 100%) !important;
  transform: translateY(-3px) scale(1.02);
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.5),
    inset 0 3px 6px rgba(255, 255, 255, 0.4),
    inset 0 -3px 6px rgba(184, 134, 11, 0.4),
    0 0 30px var(--rey-shadow-gold),
    0 0 50px var(--rey-glow-gold) !important;
  text-shadow: 
    1px 1px 0px var(--rey-brown-deep),
    2px 2px 6px rgba(0, 0, 0, 0.9),
    0 0 10px rgba(248, 231, 28, 0.6) !important;
}

.theme-rey button:active {
  transform: translateY(-1px) scale(0.98);
  box-shadow: 
    0 4px 10px rgba(0, 0, 0, 0.6),
    inset 0 1px 2px rgba(255, 255, 255, 0.2),
    inset 0 -1px 2px rgba(184, 134, 11, 0.5),
    0 0 15px var(--rey-shadow-gold) !important;
}

/* Botón especial de Falta Envido */
.theme-rey .btn-falta-envido {
  background: linear-gradient(145deg, 
    #DC143C 0%, 
    #B22222 30%, 
    #8B0000 100%) !important;
  border: 3px solid #4A0000 !important;
  box-shadow: 
    0 6px 15px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(255, 100, 100, 0.3),
    inset 0 -2px 4px rgba(139, 0, 0, 0.5),
    0 0 20px rgba(220, 20, 60, 0.4) !important;
}

.theme-rey .btn-falta-envido:hover {
  background: linear-gradient(145deg, 
    #FF1744 0%, 
    #DC143C 30%, 
    #B22222 100%) !important;
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.5),
    inset 0 3px 6px rgba(255, 100, 100, 0.4),
    inset 0 -3px 6px rgba(139, 0, 0, 0.6),
    0 0 30px rgba(220, 20, 60, 0.6),
    0 0 50px rgba(255, 23, 68, 0.4) !important;
}

/* BOTONES CIRCULARES PREMIUM - DORADOS */
.theme-rey .rey-circular-plus {
  background: linear-gradient(145deg, 
    var(--rey-gold-bright) 0%, 
    var(--rey-gold-main) 30%, 
    var(--rey-gold-dark) 100%) !important;
  border: 3px solid var(--rey-brown-rich) !important;
  box-shadow: 
    0 6px 15px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(255, 255, 255, 0.3),
    inset 0 -2px 4px rgba(184, 134, 11, 0.3),
    0 0 20px var(--rey-shadow-gold) !important;
  position: relative;
  overflow: hidden;
}

.theme-rey .rey-circular-plus::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle at center, 
    rgba(255, 255, 255, 0.3) 0%, 
    transparent 70%);
  transform: translateX(-100%);
  transition: transform 0.6s ease;
}

.theme-rey .rey-circular-plus:hover::before {
  transform: translateX(100%);
}

.theme-rey .rey-circular-plus:hover {
  background: linear-gradient(145deg, 
    #FFE55C 0%, 
    var(--rey-gold-bright) 30%, 
    var(--rey-gold-main) 100%) !important;
  transform: translateY(-3px) scale(1.05);
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.5),
    inset 0 3px 6px rgba(255, 255, 255, 0.4),
    inset 0 -3px 6px rgba(184, 134, 11, 0.4),
    0 0 30px var(--rey-shadow-gold),
    0 0 50px var(--rey-glow-gold) !important;
}

.theme-rey .rey-circular-plus:active {
  transform: translateY(-1px) scale(0.95);
  box-shadow: 
    0 4px 10px rgba(0, 0, 0, 0.6),
    inset 0 1px 2px rgba(255, 255, 255, 0.2),
    inset 0 -1px 2px rgba(184, 134, 11, 0.5),
    0 0 15px var(--rey-shadow-gold) !important;
}

.theme-rey .rey-circular-minus {
  background: linear-gradient(145deg, 
    #8B7355 0%, 
    #704F37 30%, 
    #5C3E2A 100%) !important;
  border: 3px solid var(--rey-brown-rich) !important;
  box-shadow: 
    0 6px 15px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(180, 160, 140, 0.3),
    inset 0 -2px 4px rgba(92, 62, 42, 0.5),
    0 0 15px rgba(139, 115, 85, 0.3) !important;
  position: relative;
  overflow: hidden;
}

.theme-rey .rey-circular-minus::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle at center, 
    rgba(180, 160, 140, 0.3) 0%, 
    transparent 70%);
  transform: translateX(-100%);
  transition: transform 0.6s ease;
}

.theme-rey .rey-circular-minus:hover::before {
  transform: translateX(100%);
}

.theme-rey .rey-circular-minus:hover {
  background: linear-gradient(145deg, 
    #A68B5B 0%, 
    #8B7355 30%, 
    #704F37 100%) !important;
  transform: translateY(-3px) scale(1.05);
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.5),
    inset 0 3px 6px rgba(180, 160, 140, 0.4),
    inset 0 -3px 6px rgba(92, 62, 42, 0.6),
    0 0 25px rgba(139, 115, 85, 0.4),
    0 0 40px rgba(166, 139, 91, 0.3) !important;
}

.theme-rey .rey-circular-minus:active {
  transform: translateY(-1px) scale(0.95);
  box-shadow: 
    0 4px 10px rgba(0, 0, 0, 0.6),
    inset 0 1px 2px rgba(180, 160, 140, 0.2),
    inset 0 -1px 2px rgba(92, 62, 42, 0.7),
    0 0 10px rgba(139, 115, 85, 0.4) !important;
}

/* ESTADOS DISABLED PARA BOTONES CIRCULARES */
.theme-rey .rey-circular-plus:disabled,
.theme-rey .rey-circular-minus:disabled {
  background: linear-gradient(145deg, 
    rgba(139, 115, 85, 0.4) 0%, 
    rgba(112, 79, 55, 0.4) 30%, 
    rgba(92, 62, 42, 0.4) 100%) !important;
  border: 2px solid rgba(66, 40, 20, 0.6) !important;
  box-shadow: 
    0 2px 6px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(180, 160, 140, 0.1) !important;
  transform: none !important;
  cursor: not-allowed !important;
  opacity: 0.6 !important;
}

.theme-rey .rey-circular-plus:disabled::before,
.theme-rey .rey-circular-minus:disabled::before {
  display: none !important;
}

/* =================================================================
   PATRONES SVG FOTORREALISTAS - SISTEMA AVANZADO
   ================================================================= */

/* PATRÓN BARROCO COMPLEJO - Para overlays decorativos */
.svg-pattern-barroco {
  background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='vintage'%3E%3CfeGaussianBlur in='SourceGraphic' stdDeviation='0.3'/%3E%3CfeOffset dx='0.5' dy='0.5' result='offset'/%3E%3CfeFlood flood-color='%23D4A574' flood-opacity='0.2'/%3E%3CfeComposite in2='offset' operator='over'/%3E%3C/filter%3E%3C/defs%3E%3Cg transform='translate(100,100)' filter='url(%23vintage)'%3E%3C!-- Arabesco central principal --%3E%3Cpath d='M0-80 Q-20-70 -35-55 Q-45-35 -40-15 Q-30-5 -20-10 Q-10-20 -5-30 Q0-45 5-30 Q10-20 20-10 Q30-5 40-15 Q45-35 35-55 Q20-70 0-80Z M0-60 Q15-55 25-40 Q30-25 25-15 Q15-10 10-20 Q5-30 0-35 Q-5-30 -10-20 Q-15-10 -25-15 Q-30-25 -25-40 Q-15-55 0-60Z' fill='none' stroke='%23231a0f' stroke-width='1.8' opacity='0.15'/%3E%3C!-- Espirales ornamentales externas --%3E%3Cg transform='rotate(0)'%3E%3Cpath d='M-60-20 Q-50-30 -40-25 Q-30-15 -35-5 Q-45 0 -50-10 Q-55-20 -60-20' fill='none' stroke='%23231a0f' stroke-width='1.2' opacity='0.12'/%3E%3Cpath d='M60-20 Q50-30 40-25 Q30-15 35-5 Q45 0 50-10 Q55-20 60-20' fill='none' stroke='%23231a0f' stroke-width='1.2' opacity='0.12'/%3E%3C/g%3E%3Cg transform='rotate(90)'%3E%3Cpath d='M-60-20 Q-50-30 -40-25 Q-30-15 -35-5 Q-45 0 -50-10 Q-55-20 -60-20' fill='none' stroke='%23231a0f' stroke-width='1.2' opacity='0.12'/%3E%3Cpath d='M60-20 Q50-30 40-25 Q30-15 35-5 Q45 0 50-10 Q55-20 60-20' fill='none' stroke='%23231a0f' stroke-width='1.2' opacity='0.12'/%3E%3C/g%3E%3Cg transform='rotate(180)'%3E%3Cpath d='M-60-20 Q-50-30 -40-25 Q-30-15 -35-5 Q-45 0 -50-10 Q-55-20 -60-20' fill='none' stroke='%23231a0f' stroke-width='1.2' opacity='0.12'/%3E%3Cpath d='M60-20 Q50-30 40-25 Q30-15 35-5 Q45 0 50-10 Q55-20 60-20' fill='none' stroke='%23231a0f' stroke-width='1.2' opacity='0.12'/%3E%3C/g%3E%3Cg transform='rotate(270)'%3E%3Cpath d='M-60-20 Q-50-30 -40-25 Q-30-15 -35-5 Q-45 0 -50-10 Q-55-20 -60-20' fill='none' stroke='%23231a0f' stroke-width='1.2' opacity='0.12'/%3E%3Cpath d='M60-20 Q50-30 40-25 Q30-15 35-5 Q45 0 50-10 Q55-20 60-20' fill='none' stroke='%23231a0f' stroke-width='1.2' opacity='0.12'/%3E%3C/g%3E%3C!-- Elementos florales decorativos --%3E%3Ccircle cx='-70' cy='-70' r='4' fill='%23231a0f' opacity='0.08'/%3E%3Ccircle cx='70' cy='-70' r='4' fill='%23231a0f' opacity='0.08'/%3E%3Ccircle cx='-70' cy='70' r='4' fill='%23231a0f' opacity='0.08'/%3E%3Ccircle cx='70' cy='70' r='4' fill='%23231a0f' opacity='0.08'/%3E%3C!-- Detalle central --%3E%3Ccircle cx='0' cy='0' r='8' fill='none' stroke='%23231a0f' stroke-width='1' opacity='0.1'/%3E%3Ccircle cx='0' cy='0' r='4' fill='%23231a0f' opacity='0.06'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 200px 200px;
  background-repeat: repeat;
  opacity: 0.4;
}

/* TEXTURA DE CUERO PREMIUM - Para elementos destacados */
.svg-pattern-cuero-premium {
  background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='leatherTexture'%3E%3CfeTurbulence baseFrequency='0.7' numOctaves='3' result='noise'/%3E%3CfeColorMatrix in='noise' type='saturate' values='0'/%3E%3CfeOffset dx='0.5' dy='0.5'/%3E%3CfeGaussianBlur stdDeviation='0.5'/%3E%3C/filter%3E%3C/defs%3E%3Crect width='80' height='80' fill='%23231a0f' opacity='0.03' filter='url(%23leatherTexture)'/%3E%3C!-- Poros y texturas del cuero --%3E%3Cellipse cx='15' cy='20' rx='3' ry='1.5' fill='%23231a0f' opacity='0.04' transform='rotate(15)'/%3E%3Cellipse cx='45' cy='35' rx='2.5' ry='1' fill='%23231a0f' opacity='0.03' transform='rotate(-20)'/%3E%3Cellipse cx='65' cy='15' rx='3' ry='1.5' fill='%23231a0f' opacity='0.04' transform='rotate(45)'/%3E%3Cellipse cx='25' cy='55' rx='2' ry='1' fill='%23231a0f' opacity='0.03' transform='rotate(-30)'/%3E%3Cellipse cx='60' cy='65' rx='3.5' ry='1.5' fill='%23231a0f' opacity='0.04' transform='rotate(60)'/%3E%3C!-- Vetas naturales --%3E%3Cpath d='M10 40 Q20 35 30 40 Q40 45 50 40' fill='none' stroke='%23231a0f' stroke-width='0.5' opacity='0.06'/%3E%3Cpath d='M20 60 Q35 55 50 60 Q65 65 70 60' fill='none' stroke='%23231a0f' stroke-width='0.5' opacity='0.05'/%3E%3C/svg%3E");
  background-size: 80px 80px;
  background-repeat: repeat;
}

/* PATRÓN MICRO-ORNAMENTAL - Para sutileza */
.svg-pattern-micro {
  background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23231a0f' stroke-width='0.6' opacity='0.08'%3E%3Cpath d='M12 4 Q10 6 12 8 Q14 6 12 4'/%3E%3Cpath d='M4 12 Q6 10 8 12 Q6 14 4 12'/%3E%3Cpath d='M12 20 Q10 18 12 16 Q14 18 12 20'/%3E%3Cpath d='M20 12 Q18 10 16 12 Q18 14 20 12'/%3E%3Ccircle cx='12' cy='12' r='1.5' fill='%23231a0f' opacity='0.04'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 24px 24px;
  background-repeat: repeat;
}

/* OVERLAY DORADO ENVEJECIDO - Para efectos metálicos */
.svg-pattern-dorado {
  background: 
    radial-gradient(ellipse 200px 100px at 30% 40%, rgba(212, 165, 116, 0.08) 0%, transparent 70%),
    radial-gradient(ellipse 150px 80px at 70% 20%, rgba(184, 149, 107, 0.06) 0%, transparent 60%),
    linear-gradient(45deg, transparent 30%, rgba(212, 165, 116, 0.02) 50%, transparent 70%);
  mix-blend-mode: multiply;
}

/* EFECTOS DE RELIEVE Y PROFUNDIDAD */
.emboss-barroco {
  filter: 
    drop-shadow(1px 1px 2px rgba(42, 26, 15, 0.3))
    drop-shadow(-1px -1px 1px rgba(245, 222, 179, 0.1));
}

.engrave-effect {
  filter: 
    drop-shadow(0 0 2px rgba(42, 26, 15, 0.8))
    drop-shadow(1px 1px 0 rgba(245, 222, 179, 0.2));
}

/* CLASES UTILITARIAS PARA APLICAR PATRONES */
.bg-cuero-barroco {
  position: relative;
}

.bg-cuero-barroco::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    url("data:image/svg+xml,%3Csvg width='160' height='160' viewBox='0 0 160 160' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='aged'%3E%3CfeOffset dx='1' dy='1'/%3E%3CfeGaussianBlur stdDeviation='0.5'/%3E%3C/filter%3E%3C/defs%3E%3Cg transform='translate(80,80)' filter='url(%23aged)'%3E%3Cpath d='M0-60 Q-25-50 -40-30 Q-45-10 -35-5 Q-20-10 -10-25 Q0-40 10-25 Q20-10 35-5 Q45-10 40-30 Q25-50 0-60Z' fill='none' stroke='%23231a0f' stroke-width='1.5' opacity='0.1'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 160px 160px;
  background-repeat: repeat;
  pointer-events: none;
  mix-blend-mode: multiply;
}

/* OPTIMIZACIÓN PARA PERFORMANCE */
.pattern-optimized {
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* =================================================================
   PATRONES ORNAMENTALES VICTORIANOS - TEMA REY DEL TRUCO
   ================================================================= */

/* Patrón de Corona Real */
.svg-pattern-crown {
  background-image: url("data:image/svg+xml,%3Csvg width='400' height='400' viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='goldShine'%3E%3CfeGaussianBlur in='SourceGraphic' stdDeviation='0.5'/%3E%3CfeOffset dx='1' dy='1' result='offsetblur'/%3E%3CfeFlood flood-color='%23F8E71C' flood-opacity='0.2'/%3E%3CfeComposite in2='offsetblur' operator='in'/%3E%3CfeMerge%3E%3CfeMergeNode/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3C/defs%3E%3Cg transform='translate(200,200)' filter='url(%23goldShine)'%3E%3Cpath d='M-150 50 L-100 -100 L-50 50 L0 -150 L50 50 L100 -100 L150 50 L150 100 L-150 100 Z' fill='none' stroke='%23D4AF37' stroke-width='2' opacity='0.3'/%3E%3Ccircle cx='-100' cy='-100' r='10' fill='%23F8E71C' opacity='0.4'/%3E%3Ccircle cx='0' cy='-150' r='15' fill='%23FFD700' opacity='0.5'/%3E%3Ccircle cx='100' cy='-100' r='10' fill='%23F8E71C' opacity='0.4'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 400px 400px;
  background-repeat: repeat;
  opacity: 0.15;
}

/* Patrón Barroco Dorado */
.svg-pattern-baroque-gold {
  background-image: url("data:image/svg+xml,%3Csvg width='300' height='300' viewBox='0 0 300 300' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='goldGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23F8E71C;stop-opacity:0.3'/%3E%3Cstop offset='50%25' style='stop-color:%23D4AF37;stop-opacity:0.2'/%3E%3Cstop offset='100%25' style='stop-color:%23B8860B;stop-opacity:0.1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg transform='translate(150,150)'%3E%3Cpath d='M0 -100 Q-50 -80 -70 -50 Q-80 -20 -70 0 Q-50 20 -20 30 Q0 35 20 30 Q50 20 70 0 Q80 -20 70 -50 Q50 -80 0 -100 Z' fill='url(%23goldGrad)' stroke='%23D4AF37' stroke-width='1' opacity='0.4'/%3E%3Cpath d='M0 -80 Q30 -60 40 -30 Q35 0 20 20 Q0 30 -20 20 Q-35 0 -40 -30 Q-30 -60 0 -80 Z' fill='none' stroke='%23F8E71C' stroke-width='0.5' opacity='0.3'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 300px 300px;
  background-repeat: repeat;
}

/* Patrón de Naipes */
.svg-pattern-cards {
  background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cg opacity='0.2'%3E%3Cpath d='M50 50 L50 30 Q50 20 60 20 L90 20 Q100 20 100 30 L100 80 Q100 90 90 90 L60 90 Q50 90 50 80 Z' fill='none' stroke='%23D4AF37' stroke-width='2'/%3E%3Ctext x='75' y='45' font-family='serif' font-size='20' fill='%23F8E71C' text-anchor='middle'%3E♠%3C/text%3E%3Ctext x='60' y='35' font-family='serif' font-size='12' fill='%23D4AF37'%3EA%3C/text%3E%3Cpath d='M120 120 L120 100 Q120 90 130 90 L160 90 Q170 90 170 100 L170 150 Q170 160 160 160 L130 160 Q120 160 120 150 Z' fill='none' stroke='%23D4AF37' stroke-width='2'/%3E%3Ctext x='145' y='115' font-family='serif' font-size='20' fill='%23F8E71C' text-anchor='middle'%3E♦%3C/text%3E%3Ctext x='130' y='105' font-family='serif' font-size='12' fill='%23D4AF37'%3EK%3C/text%3E%3C/g%3E%3C/svg%3E");
  background-size: 200px 200px;
  background-repeat: repeat;
}

/* =================================================================
   SISTEMA DE COLORES DE TINTA - TODOS LOS TEMAS
   ================================================================= */

.ink-blue {
  color: var(--current-text-primary);
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.1),
    1px 0 1px rgba(0, 0, 0, 0.05);
  filter: contrast(1.1);
}

.ink-blue-light {
  color: var(--current-text-secondary);
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.08);
  filter: contrast(1.1);
}

.ink-green {
  color: var(--current-color-accent);
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.15);
  filter: contrast(1.15);
}

.ink-green-dramatic {
  color: var(--current-color-accent);
  text-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.2),
    2px 0 2px rgba(0, 0, 0, 0.1),
    0 0 8px var(--current-color-accent);
  filter: contrast(1.2) brightness(1.1);
}

/* =================================================================
   FONDOS Y SUPERFICIES
   ================================================================= */

.notebook-background {
  background-color: var(--current-bg-primary);
  background-image: 
    linear-gradient(transparent 30px, var(--current-border-primary) 30px, var(--current-border-primary) 31px, transparent 31px);
  background-size: 100% 32px;
  background-position: 0 0;
  border-radius: 0 !important;
}

/* 🎬 SISTEMA CINEMATOGRÁFICO REY DEL TRUCO - 8 CAPAS PREMIUM */
.theme-rey .notebook-background {
  position: relative;
  background: 
    /* 🎬 CAPA 1: TEXTURA CINEMATOGRÁFICA BASE - Pergamino real envejecido */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='cinematic-base'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='5' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='0.03 0.06 0.08 0.02 0.04 0.07'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23cinematic-base)' fill='%232C1A0E'/%3E%3C/svg%3E"),
    
    /* 🎬 CAPA 2: ORNAMENTOS VICTORIANOS - Detalles de realeza argentina */
    url("data:image/svg+xml,%3Csvg width='150' height='150' viewBox='0 0 150 150' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23D4A574' fill-opacity='0.08'%3E%3C!-- Corona central --%3E%3Cpath d='M75 40L80 25L85 40L90 30L95 40L100 20L105 40L110 30L115 40L120 25L125 40L110 50L40 50Z' stroke='%23F8E71C' stroke-width='0.5' opacity='0.6'/%3E%3C!-- Ornamentos esquineros --%3E%3Cpath d='M20 20C30 15 35 25 40 20C35 30 25 35 20 40C15 30 10 25 20 20Z'/%3E%3Cpath d='M130 20C120 15 115 25 110 20C115 30 125 35 130 40C135 30 140 25 130 20Z'/%3E%3Cpath d='M20 130C30 135 35 125 40 130C35 120 25 115 20 110C15 120 10 125 20 130Z'/%3E%3Cpath d='M130 130C120 135 115 125 110 130C115 120 125 115 130 110C135 120 140 125 130 130Z'/%3E%3C!-- Detalles dorados --%3E%3Ccircle cx='75' cy='75' r='35' fill='none' stroke='%23D4A574' stroke-width='0.8' opacity='0.4'/%3E%3Ccircle cx='75' cy='75' r='45' fill='none' stroke='%23F8E71C' stroke-width='0.3' opacity='0.3'/%3E%3C/g%3E%3C/svg%3E"),
    
    /* 🎬 CAPA 3: DRAMA LUMÍNICO - Iluminación cinematográfica de estudio */
    radial-gradient(ellipse 400px 300px at 25% 15%, rgba(248, 231, 28, 0.12) 0%, rgba(212, 165, 116, 0.06) 50%, transparent 80%),
    radial-gradient(ellipse 500px 350px at 85% 25%, rgba(255, 215, 0, 0.08) 0%, rgba(184, 149, 107, 0.04) 60%, transparent 85%),
    
    /* 🎬 CAPA 4: CONTRASTE DRAMÁTICO - Sombras y luces de tres puntos */
    linear-gradient(135deg, 
      rgba(31, 22, 17, 0.9) 0%, 
      rgba(59, 36, 20, 0.7) 25%, 
      rgba(42, 26, 15, 0.8) 50%, 
      rgba(74, 47, 26, 0.6) 75%, 
      rgba(51, 31, 18, 0.85) 100%
    ),
    
    /* 🎬 CAPA 5: TEXTURA ORGÁNICA PREMIUM - Cuero repujado real */
    repeating-linear-gradient(
      78deg, 
      transparent 0px, 
      rgba(212, 165, 116, 0.025) 1px, 
      transparent 2px, 
      transparent 25px,
      rgba(59, 36, 20, 0.03) 26px,
      transparent 27px
    ),
    
    /* 🎬 CAPA 6: DESGASTE CINEMATOGRÁFICO - Pátina de época auténtica */
    radial-gradient(circle at 15% 85%, rgba(139, 105, 57, 0.04) 0%, transparent 65%),
    radial-gradient(circle at 95% 15%, rgba(74, 47, 26, 0.05) 0%, transparent 70%),
    radial-gradient(circle at 65% 95%, rgba(212, 165, 116, 0.03) 0%, transparent 60%),
    
    /* 🎬 CAPA 7: ILUMINACIÓN BARROCA - Efectos dorados de realeza */
    conic-gradient(from 45deg at 40% 30%, 
      rgba(248, 231, 28, 0.06) 0deg, 
      transparent 60deg, 
      rgba(255, 215, 0, 0.04) 120deg, 
      transparent 180deg,
      rgba(212, 165, 116, 0.05) 240deg,
      transparent 300deg
    ),
    
    /* 🎬 CAPA 8: BASE SÓLIDA CINEMATOGRÁFICA - Fundamento dramático */
    linear-gradient(155deg, 
      #2C1A0E 0%, 
      #3B2414 15%, 
      #2A1A0F 35%, 
      #4A2F1A 55%, 
      #331F12 75%, 
      #3B2414 90%, 
      #2C1A0E 100%
    );
    
  background-size: 
    80px 80px,        /* Textura cinematográfica */
    150px 150px,      /* Ornamentos victorianos */
    100% 100%,        /* Drama lumínico 1 */
    100% 100%,        /* Drama lumínico 2 */
    100% 100%,        /* Contraste dramático */
    35px 35px,        /* Textura orgánica */
    450px 450px,      /* Desgaste 1 */
    380px 380px,      /* Desgaste 2 */
    320px 320px,      /* Desgaste 3 */
    250px 250px,      /* Iluminación barroca */
    100% 100%;        /* Base sólida */
    
  background-position: 
    0 0,              /* Textura */
    0 0,              /* Ornamentos */
    0 0,              /* Drama 1 */
    100% 0,           /* Drama 2 */
    0 0,              /* Contraste */
    0 0,              /* Orgánica */
    0 0,              /* Desgaste 1 */
    100% 100%,        /* Desgaste 2 */
    50% 50%,          /* Desgaste 3 */
    0 0,              /* Barroca */
    0 0;              /* Base */
    
  background-blend-mode: 
    normal,           /* Textura */
    soft-light,       /* Ornamentos */
    screen,           /* Drama 1 */
    overlay,          /* Drama 2 */
    multiply,         /* Contraste */
    overlay,          /* Orgánica */
    soft-light,       /* Desgaste 1 */
    multiply,         /* Desgaste 2 */
    overlay,          /* Desgaste 3 */
    color-dodge,      /* Barroca */
    normal;           /* Base */
    
  border-radius: 0 !important;
  position: relative;
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
  
  /* 🎬 ANIMACIÓN CINEMATOGRÁFICA - Respiración sutil del fondo */
  animation: cinematic-breathe 20s ease-in-out infinite;
}

/* 🎬 KEYFRAMES CINEMATOGRÁFICOS - Respiración orgánica premium */
@keyframes cinematic-breathe {
  0%, 100% {
    filter: brightness(1) contrast(1) saturate(1);
    transform: scale(1) translateZ(0);
  }
  25% {
    filter: brightness(1.02) contrast(1.01) saturate(1.05);
    transform: scale(1.002) translateZ(0);
  }
  50% {
    filter: brightness(0.98) contrast(0.99) saturate(0.95);
    transform: scale(0.998) translateZ(0);
  }
  75% {
    filter: brightness(1.01) contrast(1.005) saturate(1.02);
    transform: scale(1.001) translateZ(0);
  }
}

/* 🎬 MICRO-TEXTURA CINEMATOGRÁFICA ::BEFORE - Detalles premium de estudio */
.theme-rey .notebook-background::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    /* 🎬 GRANULADO CINEMATOGRÁFICO - Textura de película 35mm */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='film-grain'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='6' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='0.01 0.015 0.02 0.008 0.012 0.018'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23film-grain)' fill='%23F8E71C'/%3E%3C/svg%3E"),
    
    /* 🎬 DESGASTE DE ÉPOCA - Puntos de contacto históricos auténticos */
    radial-gradient(ellipse at 8% 12%, rgba(245, 222, 179, 0.025) 0%, transparent 50%),
    radial-gradient(ellipse at 92% 88%, rgba(184, 149, 107, 0.03) 0%, transparent 55%),
    radial-gradient(ellipse at 35% 75%, rgba(139, 105, 57, 0.018) 0%, transparent 45%),
    radial-gradient(ellipse at 78% 25%, rgba(212, 165, 116, 0.022) 0%, transparent 48%),
    
    /* 🎬 MICRO-TRAMA PREMIUM - Entrecruzado de fibras reales */
    repeating-linear-gradient(
      42deg, 
      transparent 0px, 
      rgba(248, 231, 28, 0.008) 0.5px, 
      transparent 1px, 
      transparent 2.8px,
      rgba(212, 165, 116, 0.006) 2.8px,
      transparent 3.3px
    ),
    repeating-linear-gradient(
      -48deg, 
      transparent 0px, 
      rgba(59, 36, 20, 0.012) 0.7px, 
      transparent 1.4px, 
      transparent 3.2px,
      rgba(139, 105, 57, 0.005) 3.2px,
      transparent 3.9px
    ),
    
    /* 🎬 VETAS ORGÁNICAS CINEMATOGRÁFICAS - Flujo natural del cuero */
    repeating-linear-gradient(
      12deg, 
      transparent 0px, 
      transparent 18px, 
      rgba(74, 47, 26, 0.015) 18px, 
      rgba(74, 47, 26, 0.015) 22px,
      transparent 22px,
      transparent 35px
    ),
    repeating-linear-gradient(
      78deg, 
      transparent 0px, 
      transparent 25px, 
      rgba(184, 149, 107, 0.008) 25px, 
      rgba(184, 149, 107, 0.008) 28px,
      transparent 28px,
      transparent 45px
    );
    
  background-size: 
    40px 40px,        /* Granulado cinematográfico */
    100% 100%,        /* Desgaste 1 */
    100% 100%,        /* Desgaste 2 */
    100% 100%,        /* Desgaste 3 */
    100% 100%,        /* Desgaste 4 */
    3px 3px,          /* Micro-trama 1 */
    4px 4px,          /* Micro-trama 2 */
    40px 40px,        /* Vetas orgánicas 1 */
    55px 55px;        /* Vetas orgánicas 2 */
    
  background-position:
    0 0,              /* Granulado */
    0 0,              /* Desgaste 1 */
    100% 100%,        /* Desgaste 2 */
    0 100%,           /* Desgaste 3 */
    100% 0,           /* Desgaste 4 */
    0 0,              /* Trama 1 */
    2px 2px,          /* Trama 2 */
    0 0,              /* Vetas 1 */
    25px 25px;        /* Vetas 2 */
    
  mix-blend-mode: overlay;
  pointer-events: none;
  opacity: 0.8;
  will-change: transform;
  backface-visibility: hidden;
}

/* 🎬 EFECTOS CINEMATOGRÁFICOS ::AFTER - Brillo dorado y pátina real */
.theme-rey .notebook-background::after {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    /* 🎬 BRILLO DORADO CINEMATOGRÁFICO - Iluminación de estudio premium */
    radial-gradient(ellipse 600px 400px at 35% 25%, rgba(248, 231, 28, 0.08) 0%, rgba(255, 215, 0, 0.04) 40%, transparent 70%),
    radial-gradient(ellipse 500px 350px at 75% 65%, rgba(212, 165, 116, 0.06) 0%, rgba(184, 149, 107, 0.03) 45%, transparent 75%),
    
    /* 🎬 SHINE CINEMATOGRÁFICO - Reflejos de época auténticos */
    linear-gradient(125deg, 
      transparent 0%, 
      rgba(255, 215, 0, 0.012) 25%, 
      rgba(248, 231, 28, 0.018) 50%, 
      rgba(212, 165, 116, 0.008) 75%, 
      transparent 100%
    ),
    linear-gradient(-35deg, 
      transparent 0%, 
      rgba(245, 222, 179, 0.015) 30%, 
      rgba(184, 149, 107, 0.025) 65%, 
      transparent 100%
    ),
    
    /* 🎬 PATINA BARROCA - Envejecimiento natural cinematográfico */
    conic-gradient(from 15deg at 25% 75%, 
      rgba(139, 105, 57, 0.02) 0deg, 
      transparent 60deg, 
      rgba(74, 47, 26, 0.015) 120deg, 
      transparent 180deg,
      rgba(212, 165, 116, 0.012) 240deg,
      transparent 300deg
    ),
    conic-gradient(from 45deg at 80% 30%, 
      rgba(59, 36, 20, 0.018) 0deg, 
      transparent 90deg, 
      rgba(248, 231, 28, 0.008) 180deg, 
      transparent 270deg
    ),
    
    /* 🎬 HIGHLIGHT REAL - Puntos de luz natural del cuero */
    radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.015) 0%, transparent 40%),
    radial-gradient(circle at 85% 85%, rgba(245, 222, 179, 0.012) 0%, transparent 35%),
    radial-gradient(circle at 60% 15%, rgba(248, 231, 28, 0.008) 0%, transparent 30%);
    
  background-size: 
    100% 100%,        /* Brillo dorado 1 */
    100% 100%,        /* Brillo dorado 2 */
    100% 100%,        /* Shine 1 */
    100% 100%,        /* Shine 2 */
    200px 200px,      /* Patina barroca 1 */
    180px 180px,      /* Patina barroca 2 */
    300px 300px,      /* Highlight 1 */
    250px 250px,      /* Highlight 2 */
    400px 400px;      /* Highlight 3 */
    
  background-position:
    0 0,              /* Brillo 1 */
    100% 100%,        /* Brillo 2 */
    0 0,              /* Shine 1 */
    100% 0,           /* Shine 2 */
    0 0,              /* Patina 1 */
    100% 100%,        /* Patina 2 */
    0 0,              /* Highlight 1 */
    100% 100%,        /* Highlight 2 */
    50% 50%;          /* Highlight 3 */
    
  mix-blend-mode: screen;
  pointer-events: none;
  opacity: 0.6;
  will-change: transform;
  backface-visibility: hidden;
}

/* 🎬 OPTIMIZACIONES RESPONSIVE CINEMATOGRÁFICAS - Performance y calidad */
@media (max-width: 768px) {
  .theme-rey .notebook-background {
    /* Optimización móvil - Reducir complejidad para mejor performance */
    background-size: 
      60px 60px,        /* Textura cinematográfica */
      120px 120px,      /* Ornamentos victorianos */
      100% 100%,        /* Drama lumínico 1 */
      100% 100%,        /* Drama lumínico 2 */
      100% 100%,        /* Contraste dramático */
      25px 25px,        /* Textura orgánica */
      350px 350px,      /* Desgaste 1 */
      280px 280px,      /* Desgaste 2 */
      250px 250px,      /* Desgaste 3 */
      200px 200px,      /* Iluminación barroca */
      100% 100%;        /* Base sólida */
  }
  
  .theme-rey .notebook-background::before {
    background-size: 
      30px 30px,        /* Granulado cinematográfico */
      100% 100%,        /* Desgaste 1 */
      100% 100%,        /* Desgaste 2 */
      100% 100%,        /* Desgaste 3 */
      100% 100%,        /* Desgaste 4 */
      2px 2px,          /* Micro-trama 1 */
      3px 3px,          /* Micro-trama 2 */
      30px 30px,        /* Vetas orgánicas 1 */
      40px 40px;        /* Vetas orgánicas 2 */
  }
}

@media (min-width: 1200px) and (-webkit-min-device-pixel-ratio: 2) {
  .theme-rey .notebook-background {
    /* Optimización retina - Máxima calidad para pantallas high-DPI */
    background-size: 
      100px 100px,      /* Textura cinematográfica */
      200px 200px,      /* Ornamentos victorianos */
      100% 100%,        /* Drama lumínico 1 */
      100% 100%,        /* Drama lumínico 2 */
      100% 100%,        /* Contraste dramático */
      50px 50px,        /* Textura orgánica */
      600px 600px,      /* Desgaste 1 */
      500px 500px,      /* Desgaste 2 */
      450px 450px,      /* Desgaste 3 */
      350px 350px,      /* Iluminación barroca */
      100% 100%;        /* Base sólida */
  }
}

@media (prefers-reduced-motion: reduce) {
  .theme-rey .notebook-background {
    /* Respeto por usuarios con preferencia de movimiento reducido */
    animation: none;
  }
  
  @keyframes cinematic-breathe {
    0%, 100% {
      filter: brightness(1) contrast(1) saturate(1);
      transform: scale(1) translateZ(0);
    }
  }
}


.paper-texture {
  position: relative;
  border-radius: 0 !important;
}

.bg-paper {
  background: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(40px) saturate(180%) !important;
  box-shadow: 
    0 25px 50px rgba(0, 0, 0, 0.1),
    0 8px 32px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

/* =================================================================
   BOTONES - SISTEMA COMPLETO TODOS LOS TEMAS
   ================================================================= */

.organic-button {
  position: relative;
  backdrop-filter: blur(10px);
  border: 1px solid var(--current-border-primary);
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.3),
    1px 0 1px rgba(0, 0, 0, 0.15);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  min-height: 48px;
  min-width: 48px;
  overflow: hidden;
}

.organic-button::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
  transition: opacity 0.2s ease;
  pointer-events: none;
}

.organic-button:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.15),
    0 4px 10px rgba(0, 0, 0, 0.1);
  border-color: var(--current-border-accent);
}

.organic-button:hover::before {
  opacity: 1.5;
}

.organic-button:active {
  transform: translateY(-1px) scale(0.98);
  box-shadow: 
    0 4px 15px rgba(0, 0, 0, 0.2),
    0 2px 5px rgba(0, 0, 0, 0.15);
}

/* Mapeo de colores Tailwind a variables CSS */

/* Botones primarios */
.bg-blue-500\/80,
.bg-blue-500\/90,
.bg-blue-600,
.bg-blue-700 {
  background: #8B4513 !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

.hover\:bg-blue-600:hover,
.hover\:bg-blue-600\/90:hover,
.hover\:bg-blue-700:hover {
  background: #A0522D !important;
}

.active\:bg-blue-700:active,
.active\:bg-blue-700\/90:active,
.active\:bg-blue-800:active {
  background: #6B3410 !important;
}

/* Botones de éxito */
.bg-green-500\/90,
.bg-green-600,
.bg-green-700 {
  background: #2E7D32 !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

.hover\:bg-green-600:hover,
.hover\:bg-green-700:hover {
  background: #388E3C !important;
}

.active\:bg-green-700:active,
.active\:bg-green-800:active {
  background: #1B5E20 !important;
}

/* Botones destructivos */
.bg-red-500\/90,
.bg-red-600,
.bg-red-700 {
  background: #D32F2F !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

.hover\:bg-red-600:hover,
.hover\:bg-red-700:hover {
  background: #E53935 !important;
}

.active\:bg-red-700:active,
.active\:bg-red-800:active {
  background: #B71C1C !important;
}

/* Botones grises */
.bg-gray-500\/80,
.bg-gray-500\/90,
.bg-gray-600,
.bg-gray-700 {
  background: #5D4037 !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

.hover\:bg-gray-600:hover,
.hover\:bg-gray-700:hover,
.hover\:bg-gray-800:hover {
  background: #6D4C41 !important;
}

.active\:bg-gray-700:active,
.active\:bg-gray-800:active,
.active\:bg-gray-900:active {
  background: #4E342E !important;
}

/* Botones especiales - NARANJA CORAL */
.bg-yellow-500\/90,
.bg-yellow-600,
.bg-yellow-700 {
  background: #FF6B35 !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  border: 1px solid #FF6B35 !important;
}

.hover\:bg-yellow-600:hover,
.hover\:bg-yellow-700:hover {
  background: #FF7945 !important;
  border-color: #FF7945 !important;
}

.active\:bg-yellow-700:active {
  background: #E55A2B !important;
  border-color: #E55A2B !important;
}

.bg-orange-600\/90 {
  background: #FF6B35 !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

/* CLASES PERSONALIZADAS PARA BOTONES */
.btn-naranja {
  background: #FF6B35 !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  border: 1px solid #FF6B35 !important;
}

.btn-naranja:hover {
  background: #FF7945 !important;
  border-color: #FF7945 !important;
}

.btn-naranja:active {
  background: #E55A2B !important;
  border-color: #E55A2B !important;
}

.btn-marron {
  background: #8B4513 !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  border: 1px solid #8B4513 !important;
}

.btn-marron:hover {
  background: #A0522D !important;
  border-color: #A0522D !important;
}

.btn-marron:active {
  background: #6B3410 !important;
  border-color: #6B3410 !important;
}

.btn-gris {
  background: #5D4037 !important;
  color: white !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  border: 1px solid #5D4037 !important;
}

.btn-gris:hover {
  background: #6D4C41 !important;
  border-color: #6D4C41 !important;
}

.btn-gris:active {
  background: #4E342E !important;
  border-color: #4E342E !important;
}

/* =================================================================
   SUPERFICIES Y CARDS
   ================================================================= */

.bg-white\/95,
.bg-white\/90,
.bg-white\/85 {
  background: var(--current-bg-surface) !important;
  border: 1px solid var(--current-border-primary) !important;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.1),
    0 4px 16px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(20px) !important;
}

.card-floating .bg-white\/30,
.card-floating .bg-white\/25,
.card-floating .bg-white\/20 {
  background: var(--current-bg-surface) !important;
  opacity: 0.9;
  border: 1px solid var(--current-border-primary) !important;
  backdrop-filter: blur(16px) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
}

/* =================================================================
   BORDES Y DIVISORES
   ================================================================= */

.border-blue-200,
.border-gray-300,
.border-gray-400 {
  border-color: var(--current-border-primary) !important;
}

.border-red-400 {
  border-color: var(--current-color-destructive) !important;
}

.bg-gray-400 {
  background-color: var(--current-border-primary) !important;
}

/* =================================================================
   TEXTO Y PLACEHOLDERS
   ================================================================= */

.text-enhanced {
  color: var(--current-color-accent);
  text-shadow: 
    0 0 2px var(--current-color-accent),
    0 2px 4px rgba(0, 0, 0, 0.3);
  font-weight: 600;
}

.handwritten-input {
  border-bottom: none;
  transition: all 0.3s ease;
  filter: contrast(1.05) brightness(0.98);
  background: transparent;
  color: var(--current-text-primary);
}

.handwritten-input:focus {
  border-bottom: none;
  background: transparent;
  outline: none;
  color: var(--current-text-primary);
}

.handwritten-input::placeholder {
  opacity: 0.5;
  font-style: italic;
  color: var(--current-text-muted);
}

/* =================================================================
   ANIMACIONES Y EFECTOS
   ================================================================= */

@keyframes float {
  0%, 100% { 
    transform: translateY(0px) rotate(var(--rotation, 0deg));
  }
  50% { 
    transform: translateY(-3px) rotate(var(--rotation, 0deg));
  }
}

@keyframes glow-pulse {
  0%, 100% { 
    filter: drop-shadow(0 0 5px var(--current-color-accent));
  }
  50% { 
    filter: drop-shadow(0 0 20px var(--current-color-accent));
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.4) 50%, transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
}

/* =================================================================
   MICROINTERACCIONES PREMIUM - TEMA REY DEL TRUCO
   ================================================================= */

/* Entrada épica de pantalla */
@keyframes epicEntrance {
  0% {
    opacity: 0;
    transform: scale(0.8) translateY(50px);
    filter: blur(10px);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05) translateY(-10px);
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0px);
  }
}

.epic-entrance {
  animation: epicEntrance 1.2s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Hover premium para nombres de jugadores */
@keyframes playerNameGlow {
  0% {
    text-shadow: 
      2px 2px 0px var(--rey-brown-deep),
      4px 4px 8px rgba(0, 0, 0, 0.8);
  }
  100% {
    text-shadow: 
      2px 2px 0px var(--rey-brown-deep),
      4px 4px 8px rgba(0, 0, 0, 0.8),
      0 0 20px var(--rey-gold-bright),
      0 0 40px var(--rey-glow-gold);
  }
}

.theme-rey .player-name-fluid:focus {
  animation: playerNameGlow 0.5s ease-out forwards;
  color: var(--rey-gold-bright) !important;
  outline: none;
  border-bottom: 2px solid var(--rey-gold-bright);
}

/* Animación de aparición de rayitas */
@keyframes scoreMarkAppear {
  0% {
    opacity: 0;
    transform: scale(0) rotate(-45deg);
    filter: blur(5px);
  }
  50% {
    opacity: 1;
    transform: scale(1.2) rotate(0deg);
    filter: blur(1px);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
    filter: blur(0px);
  }
}

.score-mark-new {
  animation: scoreMarkAppear 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Efecto de clic premium */
@keyframes premiumClick {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 var(--rey-glow-gold);
  }
  50% {
    transform: scale(0.95);
    box-shadow: 0 0 0 10px rgba(248, 231, 28, 0.2);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 20px rgba(248, 231, 28, 0);
  }
}

.premium-click:active {
  animation: premiumClick 0.3s ease-out;
}

/* Efecto premium click mejorado para botones circulares */
.theme-rey .rey-circular-plus.premium-click:active,
.theme-rey .rey-circular-minus.premium-click:active {
  animation: premiumClick 0.3s ease-out, goldRipple 0.6s ease-out;
}

@keyframes goldRipple {
  0% {
    box-shadow: 
      0 6px 15px rgba(0, 0, 0, 0.4),
      0 0 0 0 rgba(248, 231, 28, 0.8);
  }
  50% {
    box-shadow: 
      0 6px 15px rgba(0, 0, 0, 0.4),
      0 0 0 15px rgba(248, 231, 28, 0.4);
  }
  100% {
    box-shadow: 
      0 6px 15px rgba(0, 0, 0, 0.4),
      0 0 0 30px rgba(248, 231, 28, 0);
  }
}

/* Transición de pantallas cinematográfica */
@keyframes screenTransition {
  0% {
    opacity: 1;
    transform: scale(1) rotateY(0deg);
    filter: blur(0px);
  }
  50% {
    opacity: 0.3;
    transform: scale(0.95) rotateY(90deg);
    filter: blur(5px);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotateY(0deg);
    filter: blur(0px);
  }
}

.screen-transition {
  animation: screenTransition 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Resplandor de victoria */
@keyframes victoryGlow {
  0%, 100% {
    text-shadow: 
      3px 3px 0px var(--rey-brown-deep),
      6px 6px 12px rgba(0, 0, 0, 0.9),
      0 0 30px var(--rey-gold-bright);
  }
  25% {
    text-shadow: 
      3px 3px 0px var(--rey-brown-deep),
      6px 6px 12px rgba(0, 0, 0, 0.9),
      0 0 50px var(--rey-gold-bright),
      0 0 80px var(--rey-glow-gold);
  }
  50% {
    text-shadow: 
      3px 3px 0px var(--rey-brown-deep),
      6px 6px 12px rgba(0, 0, 0, 0.9),
      0 0 70px var(--rey-gold-bright),
      0 0 120px var(--rey-glow-gold),
      0 0 160px rgba(248, 231, 28, 0.5);
  }
  75% {
    text-shadow: 
      3px 3px 0px var(--rey-brown-deep),
      6px 6px 12px rgba(0, 0, 0, 0.9),
      0 0 50px var(--rey-gold-bright),
      0 0 80px var(--rey-glow-gold);
  }
}

.victory-glow {
  animation: victoryGlow 2s ease-in-out infinite;
}

/* Efecto de magia dorada para acciones especiales */
@keyframes magicGold {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.magic-gold-bg {
  background: linear-gradient(45deg, 
    var(--rey-brown-deep), 
    var(--rey-gold-dark), 
    var(--rey-gold-main), 
    var(--rey-gold-bright), 
    var(--rey-gold-main), 
    var(--rey-gold-dark), 
    var(--rey-brown-deep));
  background-size: 400% 400%;
  animation: magicGold 3s ease infinite;
}

/* =================================================================
   NAVEGACIÓN Y MODALES
   ================================================================= */

.mobile-nav-header {
  background: var(--current-bg-surface);
  border-bottom: 1px solid var(--current-border-primary);
  backdrop-filter: blur(20px);
}

.native-back-button {
  background: var(--current-bg-surface);
  border: 1px solid var(--current-border-primary);
  color: var(--current-text-primary);
  min-width: 52px;
  min-height: 52px;
  transition: all 0.2s ease;
}

.native-back-button:hover {
  background: var(--current-bg-elevated);
  border-color: var(--current-border-accent);
  transform: translateY(-1px);
}

/* =================================================================
   ESTADOS ESPECIALES - "AL VERDE" Y CRÍTICOS
   ================================================================= */

.btn-falta-envido {
  background: var(--current-color-destructive) !important;
  color: white !important;
  position: relative;
  box-shadow: 
    0 4px 15px var(--current-color-destructive),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  border: 1px solid var(--current-color-destructive);
}

.btn-falta-envido::after {
  content: '⚡';
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  opacity: 0;
  transition: all 0.3s ease;
  font-size: 1.2em;
  color: var(--current-color-accent);
}

.btn-falta-envido:hover::after {
  opacity: 1;
  transform: translateY(-50%) scale(1.2);
}

/* =================================================================
   HISTORIAL Y ACCIONES
   ================================================================= */

.text-green-700 {
  color: var(--current-color-success) !important;
}

.text-red-600 {
  color: var(--current-text-secondary) !important;
}

.text-red-600.falta-envido {
  color: var(--current-color-destructive) !important;
}

.text-yellow-600 {
  color: #FF6B35 !important;
}

/* =================================================================
   AJUSTES DE CONTRASTE PARA TEMA OSCURO
   ================================================================= */

/* Mejora contraste en botones para tema oscuro */
.theme-oscuro .organic-button {
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.theme-oscuro .organic-button:hover {
  border-color: rgba(255, 255, 255, 0.3);
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}


/* Ajuste para campos de entrada en tema oscuro */
.theme-oscuro .handwritten-input {
  color: var(--oscuro-ink-color) !important;
}

.theme-oscuro .handwritten-input::placeholder {
  color: var(--oscuro-text-muted) !important;
  opacity: 0.7;
}

/* Mejor legibilidad de textos ink en tema oscuro */
.theme-oscuro .ink-blue {
  color: var(--oscuro-text-primary) !important;
  text-shadow: 
    0 1px 3px rgba(0, 0, 0, 0.5),
    0 0 8px rgba(255, 255, 255, 0.1);
}

.theme-oscuro .ink-blue-light {
  color: var(--oscuro-text-secondary) !important;
}

/* Ajuste de color para separadores en tema oscuro */
.theme-oscuro .bg-gray-400 {
  background-color: var(--oscuro-border-primary) !important;
  opacity: 0.6;
}


/* Ajuste especial para el botón de tema en tema oscuro */
.theme-oscuro .bg-white\/30 {
  background: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

.theme-oscuro .bg-white\/30:hover {
  background: rgba(255, 255, 255, 0.15) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
}

/* =================================================================
   OPTIMIZACIONES MÓVILES
   ================================================================= */

.touch-manipulation {
  touch-action: manipulation;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

.cursor-pointer.touch-manipulation {
  position: relative;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  transition: opacity 0.2s ease;
}

.cursor-pointer.touch-manipulation:active {
  opacity: 0.7;
  transform: scale(0.98);
}

@media (hover: hover) {
  .cursor-pointer.touch-manipulation:hover {
    background: var(--current-bg-surface);
    border-radius: 12px;
  }
}

/* =================================================================
   EFECTOS DE PAPEL Y TEXTURAS
   ================================================================= */

.organic-text {
  filter: contrast(1.1) brightness(0.95);
  text-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.1),
    1px 0 1px rgba(0, 0, 0, 0.05);
}

.score-primary {
  position: relative;
  filter: drop-shadow(0 4px 12px var(--current-color-accent));
}

/* EFECTOS DRAMÁTICOS PARA NÚMEROS DE PUNTUACIÓN - TEMA REY */
.theme-rey .score-primary {
  filter: 
    drop-shadow(3px 3px 0px var(--rey-brown-deep))
    drop-shadow(6px 6px 12px rgba(0, 0, 0, 0.9))
    drop-shadow(0 0 25px var(--rey-shadow-gold))
    drop-shadow(0 0 50px var(--rey-glow-gold));
  text-shadow: 
    2px 2px 0px var(--rey-brown-deep),
    4px 4px 8px rgba(0, 0, 0, 0.8),
    0 0 20px var(--rey-shadow-gold),
    0 0 40px var(--rey-glow-gold);
}

.theme-rey .score-primary.score-enhanced {
  transform: scale(1.1);
  filter: 
    drop-shadow(4px 4px 0px var(--rey-brown-deep))
    drop-shadow(8px 8px 16px rgba(0, 0, 0, 0.9))
    drop-shadow(0 0 35px var(--rey-shadow-gold))
    drop-shadow(0 0 70px var(--rey-glow-gold));
  text-shadow: 
    3px 3px 0px var(--rey-brown-deep),
    6px 6px 12px rgba(0, 0, 0, 0.9),
    0 0 30px var(--rey-shadow-gold),
    0 0 60px var(--rey-glow-gold),
    0 0 90px rgba(248, 231, 28, 0.5);
  animation: goldenPulse 2s ease-in-out infinite;
}

@keyframes goldenPulse {
  0%, 100% {
    text-shadow: 
      3px 3px 0px var(--rey-brown-deep),
      6px 6px 12px rgba(0, 0, 0, 0.9),
      0 0 30px var(--rey-shadow-gold),
      0 0 60px var(--rey-glow-gold);
  }
  50% {
    text-shadow: 
      3px 3px 0px var(--rey-brown-deep),
      6px 6px 12px rgba(0, 0, 0, 0.9),
      0 0 40px var(--rey-shadow-gold),
      0 0 80px var(--rey-glow-gold),
      0 0 120px rgba(248, 231, 28, 0.7);
  }
}

/* EFECTOS DE PARTÍCULAS DORADAS */
@keyframes goldParticle {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1) rotate(0deg);
  }
  100% {
    opacity: 0;
    transform: translateY(-100px) scale(0.3) rotate(360deg);
  }
}

@keyframes sparkle {
  0%, 100% {
    opacity: 0;
    transform: scale(0) rotate(0deg);
  }
  50% {
    opacity: 1;
    transform: scale(1) rotate(180deg);
  }
}

.gold-particle-effect {
  position: relative;
  overflow: visible;
}

.gold-particle-effect::after {
  content: '✨';
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  font-size: clamp(0.6rem, 2vw, 0.8rem);
  color: var(--rey-gold-bright);
  animation: goldParticle 1.5s ease-out infinite;
  pointer-events: none;
  z-index: 1;
}

/* Efecto mejorado para botones circulares */
.theme-rey .rey-circular-plus.gold-particle-effect::after,
.theme-rey .rey-circular-minus.gold-particle-effect::after {
  top: -5px;
  font-size: clamp(0.5rem, 1.5vw, 0.7rem);
  animation: goldParticle 2s ease-out infinite;
}

.sparkle-effect {
  position: relative;
}

.sparkle-effect::before,
.sparkle-effect::after {
  content: '✦';
  position: absolute;
  color: var(--rey-gold-bright);
  font-size: clamp(0.8rem, 2.5vw, 1.2rem);
  animation: sparkle 2s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}

.sparkle-effect::before {
  top: -5px;
  left: -5px;
  animation-delay: 0s;
}

.sparkle-effect::after {
  bottom: -5px;
  right: -5px;
  animation-delay: 1s;
}

/* Sparkle effect optimizado para botones circulares */
.theme-rey .rey-circular-plus.sparkle-effect::before,
.theme-rey .rey-circular-plus.sparkle-effect::after,
.theme-rey .rey-circular-minus.sparkle-effect::before,
.theme-rey .rey-circular-minus.sparkle-effect::after {
  font-size: clamp(0.6rem, 2vw, 0.9rem);
  animation: sparkle 3s ease-in-out infinite;
}

.theme-rey .rey-circular-plus.sparkle-effect::before,
.theme-rey .rey-circular-minus.sparkle-effect::before {
  top: -3px;
  left: -3px;
}

.theme-rey .rey-circular-plus.sparkle-effect::after,
.theme-rey .rey-circular-minus.sparkle-effect::after {
  bottom: -3px;
  right: -3px;
}

/* Efecto de explosión dorada */
@keyframes goldExplosion {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: scale(1.5) rotate(180deg);
    opacity: 0.8;
  }
  100% {
    transform: scale(3) rotate(360deg);
    opacity: 0;
  }
}

.gold-explosion {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 2rem;
  color: var(--rey-gold-bright);
  animation: goldExplosion 0.8s ease-out;
  pointer-events: none;
  z-index: 1000;
}

.handwritten-natural {
  font-family: 'Caveat', cursive;
  font-variation-settings: 'wght' 400;
  text-rendering: optimizeLegibility;
  text-shadow: 
    0 0 1px currentColor,
    0.5px 0.5px 0 rgba(0, 0, 0, 0.1),
    1px 1px 2px rgba(0, 0, 0, 0.05);
}

/* =================================================================
   RESPONSIVE Y ACCESIBILIDAD
   ================================================================= */

/* Sistema de tipografía fluida mejorado */
.fluid-text-xs { font-size: clamp(0.75rem, 1.5vw, 0.875rem); }
.fluid-text-sm { font-size: clamp(0.875rem, 2vw, 1rem); }
.fluid-text-base { font-size: clamp(1rem, 2.5vw, 1.125rem); }
.fluid-text-lg { font-size: clamp(1.125rem, 3vw, 1.25rem); }
.fluid-text-xl { font-size: clamp(1.25rem, 3.5vw, 1.5rem); }
.fluid-text-2xl { font-size: clamp(1.5rem, 4vw, 2rem); }
.fluid-text-3xl { font-size: clamp(1.875rem, 5vw, 2.5rem); }
.fluid-text-4xl { font-size: clamp(2.25rem, 6vw, 3rem); }
.fluid-text-5xl { font-size: clamp(3rem, 7vw, 4rem); }
.fluid-text-6xl { font-size: clamp(3.75rem, 8vw, 5rem); }

/* Nombres de jugadores - escalado específico para Rey del Truco */
.player-name-fluid {
  font-size: clamp(2rem, 6vw, 4rem) !important;
}

/* Números de puntuación - escalado específico */
.score-number-fluid {
  font-size: clamp(2.5rem, 8vw, 5rem) !important;
}

/* Espaciado responsivo */
.responsive-padding {
  padding: clamp(0.5rem, 2vw, 1.5rem);
}

.responsive-margin {
  margin: clamp(0.5rem, 2vw, 1.5rem);
}

.responsive-gap {
  gap: clamp(0.5rem, 2vw, 1rem);
}

/* Layout adaptativo para diferentes pantallas */
.game-container {
  width: 100%;
  margin: 0 auto;
}

@media (max-width: 767px) {
  .game-container {
    max-width: 100%;
  }
}

@media (min-width: 768px) and (max-width: 1023px) {
  .game-container {
    max-width: 90%;
  }
}

@media (min-width: 1024px) {
  .game-container {
    max-width: 100%;
    height: 100vh;
  }
}

/* Manejo de orientación */
@media (orientation: landscape) and (max-height: 600px) {
  .mobile-viewport {
    height: 100vh;
    min-height: auto;
  }
  
  .landscape-compact {
    padding: 0.5rem;
  }
  
  .landscape-compact .player-name-fluid {
    font-size: clamp(1.5rem, 4vw, 2.5rem) !important;
  }
  
  .landscape-compact .score-number-fluid {
    font-size: clamp(2rem, 6vw, 3.5rem) !important;
  }
  
  /* Layout horizontal para landscape móvil */
  .landscape-horizontal {
    display: grid;
    grid-template-columns: 1fr 1px 1fr;
    gap: 1rem;
    height: 100%;
  }
  
  .landscape-player-section {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem;
  }
  
  .landscape-divider {
    background: var(--current-border-primary);
    opacity: 0.3;
  }
  
  .landscape-controls {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: auto;
  }
  
  .landscape-action-buttons {
    flex-direction: row;
    justify-content: space-around;
    padding: 0.5rem;
    gap: 0.5rem;
  }
}

/* Tablet en modo paisaje - layout optimizado */
@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
  .game-container {
    max-width: 90vw;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: center;
  }
  
  .tablet-landscape-split {
    display: contents;
  }
}

/* Desktop - layout fullscreen */
@media (min-width: 1024px) {
  .desktop-layout {
    min-height: 100vh;
    width: 100%;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
    background-attachment: fixed;
  }
  
  .desktop-game-card {
    width: 100%;
    height: 100vh;
    backdrop-filter: none;
    border-radius: 0;
    border: none;
    box-shadow: none;
    overflow: hidden;
  }
  
  /* Layout horizontal para desktop */
  .desktop-horizontal-layout {
    display: grid;
    grid-template-columns: 1fr 2px 1fr;
    gap: 2rem;
    height: 100%;
    max-width: 1400px;
    margin: 0 auto;
  }
  
  .desktop-player-section {
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    align-items: center;
    padding: 2rem;
  }
  
  .desktop-vertical-divider {
    background: var(--current-border-primary);
    opacity: 0.2;
  }
}

/* Mejoras para pantallas ultra-wide */
@media (min-width: 1536px) {
  .ultra-wide-layout {
    width: 100%;
    margin: 0 auto;
  }
  
  /* Espaciado más generoso en pantallas grandes */
  .player-name-fluid {
    font-size: clamp(3rem, 8vw, 5rem) !important;
  }
  
  .score-number-fluid {
    font-size: clamp(4rem, 10vw, 6rem) !important;
  }
}

/* Prevenir zoom en inputs en iOS */
input, textarea, select {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}

/* Manejo de teclado virtual */
@media screen and (max-height: 600px) {
  .mobile-viewport {
    height: 100vh;
    min-height: auto;
  }
  
  .keyboard-active {
    height: calc(100vh - 300px);
    overflow-y: auto;
  }
}

/* Prevenir scroll horizontal */
body, html {
  overflow-x: hidden;
  position: relative;
}

/* Mejorar el tap en iOS */
button {
  -webkit-tap-highlight-color: transparent;
}

/* Optimizar fuentes para mobile */
@media (max-width: 768px) {
  body {
    -webkit-text-size-adjust: 100%;
    font-size: 16px;
  }
}

/* Animaciones reducidas para accesibilidad */
@media (prefers-reduced-motion: reduce) {
  *, 
  *::before, 
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Mejoras para alta densidad de píxeles */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .high-dpi-text {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* =================================================================
   OVERRIDES ESPECÍFICOS PARA CASOS EDGE
   ================================================================= */

/* =================================================================
   SISTEMA CINEMATOGRÁFICO DE MODALES "REY DEL TRUCO"
   ================================================================= */

/* Modal overlays - CINEMATOGRÁFICO ÉPICO */
.modal-backdrop-premium {
  background: rgba(0, 0, 0, 0.15) !important;
  backdrop-filter: blur(20px) !important;
  z-index: 1000 !important;
}

.rey-modal-backdrop {
  background: 
    radial-gradient(ellipse at center, rgba(212, 165, 116, 0.25) 0%, transparent 70%),
    radial-gradient(ellipse at top, rgba(139, 69, 19, 0.15) 0%, transparent 60%),
    linear-gradient(135deg, rgba(0, 0, 0, 0.85) 0%, rgba(20, 10, 5, 0.9) 100%) !important;
  backdrop-filter: blur(25px) saturate(150%) !important;
  z-index: 1000 !important;
  position: fixed;
  inset: 0;
  animation: rey-backdrop-fade-in 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.rey-modal-backdrop::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23D4A574' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
  opacity: 0.3;
  animation: rey-pattern-float 20s linear infinite;
}

/* Modales épicos - ESTRUCTURA PREMIUM */
.rey-modal-epic {
  background: 
    linear-gradient(135deg, 
      rgba(42, 26, 15, 0.98) 0%, 
      rgba(52, 35, 20, 0.95) 50%, 
      rgba(35, 22, 12, 0.98) 100%
    ) !important;
  border: 2px solid rgba(212, 165, 116, 0.6) !important;
  border-radius: 0 !important;
  box-shadow: 
    0 0 80px rgba(212, 165, 116, 0.4),
    0 0 40px rgba(255, 215, 0, 0.3),
    0 0 20px rgba(139, 69, 19, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.1),
    inset 0 -2px 0 rgba(0, 0, 0, 0.3) !important;
  position: relative;
  overflow: hidden;
}

.rey-modal-epic::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(212, 165, 116, 0.8) 50%, 
    transparent 100%
  );
  animation: rey-modal-glow 2s ease-in-out infinite alternate;
}

.rey-modal-epic::after {
  content: '';
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23D4A574' fill-opacity='0.08'%3E%3Cpath d='M50 50c0-5.5 4.5-10 10-10s10 4.5 10 10-4.5 10-10 10-10-4.5-10-10zm-20 0c0-5.5 4.5-10 10-10s10 4.5 10 10-4.5 10-10 10-10-4.5-10-10zm20-20c0-5.5 4.5-10 10-10s10 4.5 10 10-4.5 10-10 10-10-4.5-10-10zm-20 0c0-5.5 4.5-10 10-10s10 4.5 10 10-4.5 10-10 10-10-4.5-10-10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
  opacity: 0.6;
  pointer-events: none;
}

/* Decoración ornamental de modales */
.rey-modal-ornament {
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 4px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(212, 165, 116, 0.8) 20%, 
    rgba(255, 215, 0, 0.9) 50%, 
    rgba(212, 165, 116, 0.8) 80%, 
    transparent 100%
  );
  border-radius: 2px;
}

.rey-modal-ornament::before,
.rey-modal-ornament::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 8px;
  height: 8px;
  background: radial-gradient(circle, rgba(255, 215, 0, 0.9) 0%, transparent 70%);
  border-radius: 50%;
  transform: translateY(-50%);
}

.rey-modal-ornament::before {
  left: -12px;
}

.rey-modal-ornament::after {
  right: -12px;
}

/* Esquinas ornamentales */
.rey-modal-corners {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.rey-modal-corners::before,
.rey-modal-corners::after {
  content: '';
  position: absolute;
  width: 24px;
  height: 24px;
  border: 2px solid rgba(212, 165, 116, 0.6);
}

.rey-modal-corners::before {
  top: 8px;
  left: 8px;
  border-right: none;
  border-bottom: none;
}

.rey-modal-corners::after {
  bottom: 8px;
  right: 8px;
  border-left: none;
  border-top: none;
}

/* Animaciones épicas de entrada */
.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

.animate-scaleIn {
  animation: scaleIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.rey-modal-epic-entrance {
  animation: rey-epic-entrance 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.rey-modal-victory-entrance {
  animation: rey-victory-entrance 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.rey-modal-falta-entrance {
  animation: rey-falta-entrance 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scaleIn {
  from { 
    opacity: 0;
    transform: scale(0.8) rotate(-1deg);
  }
  to { 
    opacity: 1;
    transform: scale(1) rotate(-1deg);
  }
}

@keyframes rey-backdrop-fade-in {
  from { 
    opacity: 0;
    backdrop-filter: blur(0px);
  }
  to { 
    opacity: 1;
    backdrop-filter: blur(25px) saturate(150%);
  }
}

@keyframes rey-epic-entrance {
  0% {
    opacity: 0;
    transform: scale(0.3) rotate(45deg) translateY(-100px);
    filter: blur(10px);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05) rotate(-2deg) translateY(0);
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(-1deg) translateY(0);
    filter: blur(0);
  }
}

@keyframes rey-victory-entrance {
  0% {
    opacity: 0;
    transform: scale(0.1) rotate(-180deg) translateY(-200px);
    filter: blur(20px) brightness(0.3);
  }
  30% {
    opacity: 0.6;
    transform: scale(0.8) rotate(10deg) translateY(-50px);
    filter: blur(5px) brightness(0.8);
  }
  70% {
    opacity: 0.9;
    transform: scale(1.1) rotate(-5deg) translateY(10px);
    filter: blur(1px) brightness(1.2);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(-1deg) translateY(0);
    filter: blur(0) brightness(1);
  }
}

@keyframes rey-falta-entrance {
  0% {
    opacity: 0;
    transform: scale(0.5) rotateY(90deg) translateZ(-100px);
    filter: blur(8px);
  }
  60% {
    opacity: 0.8;
    transform: scale(1.05) rotateY(-10deg) translateZ(0);
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotateY(0deg) translateZ(0);
    filter: blur(0);
  }
}

@keyframes rey-modal-glow {
  0% {
    background: linear-gradient(90deg, 
      transparent 0%, 
      rgba(212, 165, 116, 0.6) 50%, 
      transparent 100%
    );
  }
  100% {
    background: linear-gradient(90deg, 
      transparent 0%, 
      rgba(255, 215, 0, 0.9) 50%, 
      transparent 100%
    );
  }
}

@keyframes rey-pattern-float {
  0% { transform: translateX(0) translateY(0); }
  100% { transform: translateX(-60px) translateY(-60px); }
}

/* =================================================================
   EFECTOS PREMIUM PARA MODALES ESPECÍFICOS
   ================================================================= */

/* Modal de Victoria - EXPLOSIÓN ÉPICA */
.rey-modal-victory {
  background: 
    radial-gradient(ellipse at center, rgba(255, 215, 0, 0.15) 0%, transparent 60%),
    linear-gradient(135deg, 
      rgba(42, 26, 15, 0.98) 0%, 
      rgba(52, 35, 20, 0.95) 50%, 
      rgba(35, 22, 12, 0.98) 100%
    ) !important;
  border: 3px solid rgba(255, 215, 0, 0.8) !important;
  box-shadow: 
    0 0 100px rgba(255, 215, 0, 0.6),
    0 0 60px rgba(212, 165, 116, 0.5),
    0 0 30px rgba(255, 215, 0, 0.4),
    inset 0 4px 0 rgba(255, 255, 255, 0.2),
    inset 0 -4px 0 rgba(0, 0, 0, 0.4) !important;
  position: relative;
  overflow: hidden;
}

.rey-modal-victory::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 215, 0, 0.9) 25%, 
    rgba(255, 255, 255, 0.8) 50%, 
    rgba(255, 215, 0, 0.9) 75%, 
    transparent 100%
  );
  animation: rey-victory-pulse 1.5s ease-in-out infinite;
}

.rey-modal-victory::after {
  content: '';
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FFD700' fill-opacity='0.1'%3E%3Cpath d='M20 20l4-4h-8l4 4zm0 0l-4 4h8l-4-4zm0-8l4 4V8l-4 4zm0 8l-4-4v8l4-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
  opacity: 0.8;
  animation: rey-victory-sparkles 3s linear infinite;
  pointer-events: none;
}

/* Efectos de partículas doradas para modal de victoria */
.rey-victory-particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

.rey-victory-particles::before,
.rey-victory-particles::after {
  content: '';
  position: absolute;
  width: 4px;
  height: 4px;
  background: radial-gradient(circle, rgba(255, 215, 0, 0.9) 0%, transparent 70%);
  border-radius: 50%;
  animation: rey-victory-float 4s ease-in-out infinite;
}

.rey-victory-particles::before {
  top: 20%;
  left: 15%;
  animation-delay: 0s;
}

.rey-victory-particles::after {
  top: 60%;
  right: 20%;
  animation-delay: 2s;
}

/* Modal de Falta Envido - TEMA DE CARTAS */
.rey-modal-falta {
  background: 
    linear-gradient(135deg, 
      rgba(139, 69, 19, 0.95) 0%, 
      rgba(165, 42, 42, 0.9) 50%, 
      rgba(139, 69, 19, 0.95) 100%
    ) !important;
  border: 2px solid rgba(220, 38, 38, 0.8) !important;
  box-shadow: 
    0 0 60px rgba(220, 38, 38, 0.4),
    0 0 30px rgba(139, 69, 19, 0.3),
    0 0 15px rgba(220, 38, 38, 0.2),
    inset 0 2px 0 rgba(255, 255, 255, 0.1),
    inset 0 -2px 0 rgba(0, 0, 0, 0.3) !important;
  position: relative;
  overflow: hidden;
}

.rey-modal-falta::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(220, 38, 38, 0.8) 50%, 
    transparent 100%
  );
  animation: rey-falta-glow 2s ease-in-out infinite alternate;
}

.rey-modal-falta::after {
  content: '';
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23DC2626' fill-opacity='0.08'%3E%3Cpath d='M25 10c-8.28 0-15 6.72-15 15s6.72 15 15 15 15-6.72 15-15-6.72-15-15-15zm0 25c-5.52 0-10-4.48-10-10s4.48-10 10-10 10 4.48 10 10-4.48 10-10 10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
  opacity: 0.6;
  pointer-events: none;
}

/* Efectos de carta brillante */
.rey-card-shine {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.4) 40%, 
    rgba(255, 255, 255, 0.6) 50%, 
    rgba(255, 255, 255, 0.4) 60%, 
    transparent 100%
  );
  animation: rey-card-shine 3s ease-in-out infinite;
  pointer-events: none;
}

/* Títulos épicos en modales */
.rey-modal-title {
  font-family: 'Cinzel Decorative', cursive !important;
  font-weight: 700 !important;
  color: #D4A574 !important;
  text-shadow: 
    0 0 20px rgba(255, 215, 0, 0.6),
    0 0 40px rgba(212, 165, 116, 0.4),
    0 4px 8px rgba(0, 0, 0, 0.3) !important;
  letter-spacing: 0.1em !important;
  text-transform: uppercase !important;
  position: relative;
  z-index: 10;
}

.rey-modal-title::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120%;
  height: 120%;
  background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
  border-radius: 50%;
  animation: rey-title-glow 2s ease-in-out infinite alternate;
  pointer-events: none;
  z-index: -1;
}

/* Subtítulos en modales */
.rey-modal-subtitle {
  font-family: 'Oswald', sans-serif !important;
  font-weight: 400 !important;
  color: #F5DEB3 !important;
  text-shadow: 
    0 0 10px rgba(245, 222, 179, 0.3),
    0 2px 4px rgba(0, 0, 0, 0.4) !important;
  letter-spacing: 0.05em !important;
  opacity: 0.9;
}

/* Botones épicos en modales */
.rey-modal-button {
  font-family: 'Oswald', sans-serif !important;
  font-weight: 600 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.1em !important;
  background: linear-gradient(135deg, 
    rgba(212, 165, 116, 0.9) 0%, 
    rgba(184, 134, 11, 0.9) 50%, 
    rgba(212, 165, 116, 0.9) 100%
  ) !important;
  border: 2px solid rgba(255, 215, 0, 0.6) !important;
  color: #FFFFFF !important;
  text-shadow: 
    0 0 10px rgba(255, 215, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.6) !important;
  box-shadow: 
    0 0 20px rgba(212, 165, 116, 0.4),
    0 0 10px rgba(255, 215, 0, 0.2),
    inset 0 2px 0 rgba(255, 255, 255, 0.2),
    inset 0 -2px 0 rgba(0, 0, 0, 0.3) !important;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

.rey-modal-button:hover {
  background: linear-gradient(135deg, 
    rgba(255, 215, 0, 0.9) 0%, 
    rgba(212, 165, 116, 0.9) 50%, 
    rgba(255, 215, 0, 0.9) 100%
  ) !important;
  border-color: rgba(255, 215, 0, 0.8) !important;
  box-shadow: 
    0 0 30px rgba(255, 215, 0, 0.6),
    0 0 15px rgba(212, 165, 116, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.3),
    inset 0 -2px 0 rgba(0, 0, 0, 0.4) !important;
  transform: translateY(-2px) !important;
}

.rey-modal-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.3) 50%, 
    transparent 100%
  );
  transition: left 0.5s ease-in-out;
}

.rey-modal-button:hover::before {
  left: 100%;
}

/* Iconos épicos en modales */
.rey-modal-icon {
  font-size: 4rem !important;
  filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6));
  animation: rey-icon-float 3s ease-in-out infinite;
}

.rey-modal-icon.victory {
  animation: rey-icon-victory 2s ease-in-out infinite;
}

.rey-modal-icon.falta {
  animation: rey-icon-falta 1.5s ease-in-out infinite;
}

/* Keyframes para efectos específicos */
@keyframes rey-victory-pulse {
  0%, 100% {
    background: linear-gradient(90deg, 
      transparent 0%, 
      rgba(255, 215, 0, 0.6) 25%, 
      rgba(255, 255, 255, 0.4) 50%, 
      rgba(255, 215, 0, 0.6) 75%, 
      transparent 100%
    );
  }
  50% {
    background: linear-gradient(90deg, 
      transparent 0%, 
      rgba(255, 215, 0, 0.9) 25%, 
      rgba(255, 255, 255, 0.8) 50%, 
      rgba(255, 215, 0, 0.9) 75%, 
      transparent 100%
    );
  }
}

@keyframes rey-victory-sparkles {
  0% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(180deg) scale(1.1); }
  100% { transform: rotate(360deg) scale(1); }
}

@keyframes rey-victory-float {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: translateY(-20px) rotate(180deg);
    opacity: 0.7;
  }
}

@keyframes rey-falta-glow {
  0% {
    background: linear-gradient(90deg, 
      transparent 0%, 
      rgba(220, 38, 38, 0.6) 50%, 
      transparent 100%
    );
  }
  100% {
    background: linear-gradient(90deg, 
      transparent 0%, 
      rgba(220, 38, 38, 0.9) 50%, 
      transparent 100%
    );
  }
}

@keyframes rey-card-shine {
  0% { left: -100%; }
  50% { left: 0%; }
  100% { left: 100%; }
}

@keyframes rey-title-glow {
  0% {
    background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
  }
  100% {
    background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.2) 0%, transparent 70%);
  }
}

@keyframes rey-icon-float {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
    filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6));
  }
  50% {
    transform: translateY(-10px) rotate(5deg);
    filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.8));
  }
}

@keyframes rey-icon-victory {
  0%, 100% {
    transform: translateY(0px) rotate(0deg) scale(1);
    filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.8));
  }
  25% {
    transform: translateY(-15px) rotate(-5deg) scale(1.1);
    filter: drop-shadow(0 0 40px rgba(255, 215, 0, 0.9));
  }
  75% {
    transform: translateY(-5px) rotate(5deg) scale(1.05);
    filter: drop-shadow(0 0 35px rgba(255, 215, 0, 0.85));
  }
}

@keyframes rey-icon-falta {
  0%, 100% {
    transform: translateY(0px) rotate(0deg) scale(1);
    filter: drop-shadow(0 0 20px rgba(220, 38, 38, 0.6));
  }
  50% {
    transform: translateY(-8px) rotate(3deg) scale(1.05);
    filter: drop-shadow(0 0 25px rgba(220, 38, 38, 0.8));
  }
}

/* =================================================================
   RESPONSIVE DESIGN PARA MODALES CINEMATOGRÁFICOS
   ================================================================= */

/* Breakpoints para modales */
@media (max-width: 640px) {
  .rey-modal-epic,
  .rey-modal-victory,
  .rey-modal-falta {
    margin: 1rem !important;
    max-width: calc(100vw - 2rem) !important;
    min-width: 280px !important;
  }
  
  .rey-modal-title {
    font-size: 1.5rem !important;
    line-height: 1.2 !important;
  }
  
  .rey-modal-subtitle {
    font-size: 1rem !important;
    line-height: 1.3 !important;
  }
  
  .rey-modal-button {
    font-size: 0.9rem !important;
    padding: 0.75rem 1rem !important;
    letter-spacing: 0.05em !important;
  }
  
  .rey-modal-icon {
    font-size: 3rem !important;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .rey-modal-epic,
  .rey-modal-victory,
  .rey-modal-falta {
    margin: 2rem !important;
    max-width: 500px !important;
    min-width: 400px !important;
  }
  
  .rey-modal-title {
    font-size: 2rem !important;
    line-height: 1.1 !important;
  }
  
  .rey-modal-subtitle {
    font-size: 1.2rem !important;
    line-height: 1.3 !important;
  }
  
  .rey-modal-button {
    font-size: 1rem !important;
    padding: 1rem 1.5rem !important;
  }
  
  .rey-modal-icon {
    font-size: 4rem !important;
  }
}

@media (min-width: 1025px) {
  .rey-modal-epic,
  .rey-modal-victory,
  .rey-modal-falta {
    margin: 3rem !important;
    max-width: 600px !important;
    min-width: 500px !important;
  }
  
  .rey-modal-title {
    font-size: 2.5rem !important;
    line-height: 1.1 !important;
  }
  
  .rey-modal-subtitle {
    font-size: 1.4rem !important;
    line-height: 1.3 !important;
  }
  
  .rey-modal-button {
    font-size: 1.1rem !important;
    padding: 1.25rem 2rem !important;
  }
  
  .rey-modal-icon {
    font-size: 5rem !important;
  }
}

/* Orientación móvil */
@media (max-width: 640px) and (orientation: landscape) {
  .rey-modal-epic,
  .rey-modal-victory,
  .rey-modal-falta {
    margin: 0.5rem !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
  }
  
  .rey-modal-title {
    font-size: 1.25rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .rey-modal-subtitle {
    font-size: 0.9rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .rey-modal-button {
    font-size: 0.8rem !important;
    padding: 0.5rem 0.75rem !important;
  }
  
  .rey-modal-icon {
    font-size: 2.5rem !important;
  }
}

/* Elementos flotantes - GLASSMORPHISM PURO */
.card-floating {
  transform: translateZ(10px);
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.25) !important;
  backdrop-filter: blur(60px) saturate(200%) !important;
  box-shadow: 
    0 30px 60px rgba(0, 0, 0, 0.08),
    0 15px 30px rgba(0, 0, 0, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
  position: relative;
  z-index: 1001;
}

/* Texto en modales glassmorphism - ALTA LEGIBILIDAD */
.card-floating .ink-blue,
.card-floating h1,
.card-floating h2,
.card-floating p,
.card-floating span {
  color: var(--current-text-primary) !important;
  text-shadow: 
    0 1px 3px rgba(0, 0, 0, 0.3),
    0 0 10px rgba(255, 255, 255, 0.8) !important;
  font-weight: 600 !important;
}

/* Botones en modales glassmorphism */
.card-floating .organic-button {
  background: rgba(255, 255, 255, 0.15) !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  backdrop-filter: blur(20px) !important;
  color: var(--current-text-primary) !important;
  font-weight: 700 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
}

.card-floating .organic-button:hover {
  background: rgba(255, 255, 255, 0.25) !important;
  border-color: rgba(255, 255, 255, 0.5) !important;
  transform: translateY(-3px) !important;
}

/* Botones de colores específicos en modales glassmorphism */
.card-floating .btn-falta-envido {
  background: rgba(220, 38, 38, 0.3) !important;
  border: 1px solid rgba(220, 38, 38, 0.6) !important;
  backdrop-filter: blur(20px) !important;
  color: white !important;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7) !important;
}

.card-floating .btn-falta-envido:hover {
  background: rgba(220, 38, 38, 0.4) !important;
  border-color: rgba(220, 38, 38, 0.8) !important;
}

/* Botones primarios en modales glassmorphism */
.card-floating .bg-blue-500\/90,
.card-floating .bg-blue-600,
.card-floating .bg-blue-700 {
  background: rgba(var(--current-color-primary), 0.3) !important;
  border: 1px solid rgba(var(--current-color-primary), 0.6) !important;
  backdrop-filter: blur(20px) !important;
  color: white !important;
}

/* Botones grises en modales glassmorphism */
.card-floating .bg-gray-600,
.card-floating .bg-gray-700,
.card-floating .bg-gray-800 {
  background: rgba(107, 114, 128, 0.3) !important;
  border: 1px solid rgba(107, 114, 128, 0.6) !important;
  backdrop-filter: blur(20px) !important;
  color: white !important;
}

/* Safe areas para móvil */
.mb-safe {
  margin-bottom: 16px;
}

.pb-safe {
  padding-bottom: 16px;
}

/* OVERRIDE FINAL PARA BOTONES ESPECÍFICOS */
button[style*="backgroundColor: #FF6B35"] {
  background-color: #FF6B35 !important;
  background: #FF6B35 !important;
}

button[style*="backgroundColor: #5D4037"] {
  background-color: #5D4037 !important;
  background: #5D4037 !important;
}

/* =================================================================
   FIN DEL SISTEMA DE PALETAS COMPLETO
   ================================================================= */

/* =================================================================
   SOLUCIÓN DEFINITIVA: FONDO CINEMATOGRÁFICO REY DEL TRUCO
   Agregá este CSS al FINAL de tu globals.css para máxima prioridad
   ================================================================= */

/* OVERRIDE FUERTE - Aplica el fondo cinematográfico SIN IMPORTAR QUÉ */
.theme-rey .notebook-background,
.theme-rey.notebook-background,
body.theme-rey,
.theme-rey {
  /* FONDO CINEMATOGRÁFICO PREMIUM - 8 CAPAS DE PROFUNDIDAD */
  background: 
    /* 🎬 CAPA 1: TEXTURA DE CUERO REAL */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 150 150' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='leather-real'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='0.05 0.08 0.03 0.06 0.04'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23leather-real)' fill='%234A2F1A'/%3E%3C/svg%3E"),
    
    /* 🎬 CAPA 2: VETAS DE MADERA ARGENTINA */
    repeating-linear-gradient(8deg, 
      transparent 0px,
      rgba(139, 105, 57, 0.12) 1px,
      rgba(139, 105, 57, 0.12) 3px,
      transparent 4px,
      transparent 35px,
      rgba(74, 47, 26, 0.08) 36px,
      transparent 37px
    ),
    
    /* 🎬 CAPA 3: DESGASTE NATURAL */
    radial-gradient(ellipse at 20% 30%, rgba(212, 165, 116, 0.08) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 70%, rgba(184, 149, 107, 0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 90%, rgba(139, 105, 57, 0.04) 0%, transparent 40%),
    
    /* 🎬 CAPA 4: GRADIENTE DRAMÁTICO PRINCIPAL */
    radial-gradient(ellipse 300% 200% at 40% 20%, 
      rgba(74, 47, 26, 0.95) 0%,
      rgba(59, 36, 20, 0.98) 25%,
      rgba(42, 26, 15, 1) 50%,
      rgba(31, 22, 17, 1) 75%,
      rgba(15, 10, 6, 1) 100%
    ),
    
    /* 🎬 CAPA 5: ILUMINACIÓN DORADA SUTIL */
    linear-gradient(135deg, 
      rgba(248, 231, 28, 0.03) 0%,
      transparent 25%,
      rgba(212, 165, 116, 0.02) 50%,
      transparent 75%,
      rgba(184, 149, 107, 0.015) 100%
    ),
    
    /* 🎬 CAPA 6: TEXTURA ORGÁNICA FINA */
    repeating-linear-gradient(45deg, 
      transparent 0px,
      rgba(74, 47, 26, 0.02) 1px,
      transparent 2px,
      transparent 8px
    ),
    
    /* 🎬 CAPA 7: BRILLO NATURAL DEL CUERO */
    radial-gradient(circle at 30% 30%, rgba(245, 222, 179, 0.025) 0%, transparent 50%),
    
    /* 🎬 CAPA 8: BASE SÓLIDA CINEMATOGRÁFICA */
    linear-gradient(155deg, 
      #4A2F1A 0%, 
      #3B2414 20%, 
      #2A1A0F 40%, 
      #331F12 60%, 
      #2C1A0E 80%, 
      #1F1611 100%
    ) !important;
    
  background-size: 
    100px 100px,      /* Textura cuero */
    50px 50px,        /* Vetas madera */
    100% 100%,        /* Desgaste 1 */
    100% 100%,        /* Desgaste 2 */
    100% 100%,        /* Desgaste 3 */
    100% 100%,        /* Gradiente dramático */
    100% 100%,        /* Iluminación dorada */
    6px 6px,          /* Textura orgánica */
    400px 400px,      /* Brillo natural */
    100% 100% !important; /* Base sólida */
    
  background-attachment: fixed, local, fixed, fixed, fixed, fixed, fixed, local, fixed, fixed !important;
  background-blend-mode: overlay, multiply, soft-light, overlay, normal, screen, overlay, soft-light, screen, normal !important;
  
  /* Eliminar cualquier background anterior */
  background-image: none;
  
  /* Efectos adicionales para realismo */
  position: relative !important;
  
  /* Animación sutil de respiración */
  animation: leather-breathe 15s ease-in-out infinite !important;
}

/* ANIMACIÓN DE RESPIRACIÓN DEL CUERO */
@keyframes leather-breathe {
  0%, 100% {
    filter: brightness(1) contrast(1) saturate(1);
  }
  33% {
    filter: brightness(1.015) contrast(1.01) saturate(1.02);
  }
  66% {
    filter: brightness(0.985) contrast(0.99) saturate(0.98);
  }
}

/* TEXTURA ADICIONAL CON PSEUDO-ELEMENTOS */
.theme-rey .notebook-background::before,
.theme-rey.notebook-background::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    /* Micro-textura de fibras */
    repeating-linear-gradient(15deg, 
      transparent 0px,
      rgba(139, 105, 57, 0.015) 0.5px,
      transparent 1px,
      transparent 4px
    ),
    repeating-linear-gradient(-25deg, 
      transparent 0px,
      rgba(74, 47, 26, 0.012) 0.7px,
      transparent 1.4px,
      transparent 5px
    ),
    /* Poros del cuero */
    radial-gradient(circle at 25% 40%, rgba(31, 22, 17, 0.3) 1px, transparent 2px),
    radial-gradient(circle at 75% 20%, rgba(31, 22, 17, 0.25) 1px, transparent 1.5px),
    radial-gradient(circle at 60% 80%, rgba(31, 22, 17, 0.2) 0.8px, transparent 1.2px);
    
  background-size: 
    3px 3px,          /* Fibras 1 */
    4px 4px,          /* Fibras 2 */
    40px 40px,        /* Poros 1 */
    60px 60px,        /* Poros 2 */
    35px 35px;        /* Poros 3 */
    
  mix-blend-mode: multiply;
  pointer-events: none;
  opacity: 0.6 !important;
}

/* BRILLO REALISTA DEL CUERO */
.theme-rey .notebook-background::after,
.theme-rey.notebook-background::after {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    /* Reflejos naturales */
    radial-gradient(ellipse 400px 200px at 35% 25%, 
      rgba(248, 231, 28, 0.06) 0%, 
      rgba(212, 165, 116, 0.03) 40%, 
      transparent 70%
    ),
    radial-gradient(ellipse 300px 150px at 70% 60%, 
      rgba(245, 222, 179, 0.04) 0%, 
      rgba(184, 149, 107, 0.02) 35%, 
      transparent 65%
    ),
    /* Highlight sutil */
    linear-gradient(125deg, 
      transparent 0%,
      rgba(255, 215, 0, 0.015) 30%,
      rgba(248, 231, 28, 0.025) 50%,
      rgba(212, 165, 116, 0.012) 70%,
      transparent 100%
    );
    
  background-size: 
    100% 100%,        /* Reflejo 1 */
    100% 100%,        /* Reflejo 2 */
    100% 100%;        /* Highlight */
    
  mix-blend-mode: screen;
  pointer-events: none;
  opacity: 0.4 !important;
}

/* OPTIMIZACIÓN RESPONSIVE */
@media (max-width: 768px) {
  .theme-rey .notebook-background,
  .theme-rey.notebook-background {
    background-size: 
      80px 80px,        /* Textura cuero móvil */
      40px 40px,        /* Vetas más finas */
      100% 100%,        /* Desgastes igual */
      100% 100%,
      100% 100%,
      100% 100%,        /* Gradientes igual */
      100% 100%,
      4px 4px,          /* Textura orgánica más fina */
      300px 300px,      /* Brillo proporcional */
      100% 100% !important;
  }
  
  .theme-rey .notebook-background::before,
  .theme-rey.notebook-background::before {
    background-size: 
      2px 2px,          /* Fibras más finas */
      3px 3px,
      30px 30px,        /* Poros proporcionales */
      45px 45px,
      25px 25px;
  }
}

/* FORÇA APLICACIÓN PARA CASOS EXTREMOS */
body.theme-rey,
html.theme-rey,
.theme-rey * {
  /* Si nada más funciona, aplicar a todo */
}

.theme-rey .mobile-viewport {
  background: inherit !important;
}

/* OVERRIDE FINAL PARA TAILWIND */
.theme-rey.flex,
.theme-rey .flex,
.theme-rey.items-center,
.theme-rey .items-center,
.theme-rey.justify-center,
.theme-rey .justify-center {
  /* Mantener propiedades flex pero eliminar background */
  background: inherit !important;
  background-image: inherit !important;
}

/* ================================================================
   FONDO REALISTA - TEXTURA DE MADERA CSS
   Madera cinematográfica sin imagen externa
   ================================================================ */

.App,
.mobile-viewport,
.notebook-background,
.paper-texture,
body,
html {
  background: 
    /* Solo tu imagen real de madera - sin overlays */
    url('./assets/images/maderafondo.jpg');
    
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
    
  background-attachment: fixed;
  min-height: 100vh !important;
  position: relative !important;
  
  /* Sin filtros - imagen natural */
}

/* Capas adicionales deshabilitadas para imagen pura */
.App::before,
.mobile-viewport::before {
  display: none;
}

/* Capas de sombras deshabilitadas para imagen pura */
.App::after,
.mobile-viewport::after {
  display: none;
}

/* Asegurar que el contenido esté por encima */
.App > *,
.mobile-viewport > * {
  position: relative;
  z-index: 3;
}

/* Animación cinematográfica sutil */
@keyframes cinematic-glow {
  0%, 100% {
    filter: 
      contrast(1.15) 
      brightness(0.85) 
      saturate(1.2) 
      hue-rotate(5deg);
  }
  50% {
    filter: 
      contrast(1.18) 
      brightness(0.88) 
      saturate(1.25) 
      hue-rotate(7deg);
  }
}

.App {
  animation: cinematic-glow 20s ease-in-out infinite;
}

/* Optimización de performance */
.App,
.App::before,
.App::after,
.mobile-viewport,
.mobile-viewport::before,
.mobile-viewport::after {
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Responsive para móviles */
@media (max-width: 768px) {
  .App,
  .mobile-viewport {
    background-size: 
      100% 100%,       /* Overlay */
      cover;           /* Imagen sigue cubriendo */
      
    /* Efectos más sutiles en móvil */
    filter: 
      contrast(1.1) 
      brightness(0.9) 
      saturate(1.15) 
      hue-rotate(3deg);
  }
}

/* Para pantallas de alta densidad */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .App,
  .mobile-viewport {
    /* Efectos más intensos en pantallas retina */
    filter: 
      contrast(1.2) 
      brightness(0.82) 
      saturate(1.3) 
      hue-rotate(8deg);
  }
}

/* Modo oscuro automático si el sistema lo prefiere */
@media (prefers-color-scheme: dark) {
  .App,
  .mobile-viewport {
    filter: 
      contrast(1.25) 
      brightness(0.75) 
      saturate(1.1) 
      hue-rotate(10deg);
  }
}

/* ========================================
   BOTONES ESTILO "REY DEL TRUCO" DORADOS
   ======================================== */

.btn-rey-dorado {
  /* Estructura base - mantener tus clases Tailwind */
  background: transparent !important;
  border: 2px solid rgba(248, 231, 28, 0.3) !important;
  border-radius: 0 !important;
  
  /* Color dorado brillante - exacto como "Rey del" */
  color: #D4AF37 !important;
  
  /* Tipografía ornamental */
  font-family: 'Cinzel Decorative', 'Times New Roman', serif !important;
  font-weight: 700 !important;
  letter-spacing: 1.5px !important;
  text-transform: uppercase !important;
  
  /* Efectos de sombra ornamental - como "Rey del" */
  text-shadow: 
    2px 2px 0px #B8860B,
    4px 4px 8px rgba(0, 0, 0, 0.8),
    0 0 15px rgba(248, 231, 28, 0.4) !important;
    
  /* Sombra del botón */
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(248, 231, 28, 0.1) !important;
}

.btn-rey-dorado:hover {
  color: #FFFF33 !important;
  border-color: rgba(248, 231, 28, 0.5) !important;
  transform: translateY(-2px) !important;
  
  text-shadow: 
    2px 2px 0px #B8860B,
    4px 4px 8px rgba(0, 0, 0, 0.9),
    0 0 20px rgba(248, 231, 28, 0.7),
    0 0 35px rgba(248, 231, 28, 0.4) !important;
    
  box-shadow: 
    0 6px 16px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(248, 231, 28, 0.2),
    0 0 25px rgba(248, 231, 28, 0.3) !important;
}

.btn-rey-dorado:active {
  transform: translateY(0px) !important;
  color: #E6D200 !important;
}


/* Responsive para móvil */
@media (max-width: 768px) {
  .btn-rey-dorado {
    font-size: 16px !important;
    letter-spacing: 1px !important;
  }
}

/* =================================================================
   HEADER CINEMATOGRÁFICO REY DEL TRUCO
   ================================================================= */

.rey-cinematic-header {
  position: relative;
  background: linear-gradient(180deg, 
    rgba(42, 26, 15, 0.9) 0%, 
    rgba(42, 26, 15, 0.7) 50%, 
    rgba(42, 26, 15, 0.5) 100%
  );
  border-bottom: 2px solid rgba(212, 165, 116, 0.3);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(20px);
  min-height: 120px;
}

.rey-header-bg {
  background: linear-gradient(180deg, 
    rgba(248, 231, 28, 0.05) 0%, 
    transparent 70%
  );
}

.rey-crown-container {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.rey-crown-glow {
  position: absolute;
  width: 150%;
  height: 150%;
  background: radial-gradient(circle, 
    rgba(255, 215, 0, 0.3) 0%, 
    rgba(255, 215, 0, 0.1) 40%, 
    transparent 70%
  );
  border-radius: 50%;
  animation: crown-glow-pulse 3s ease-in-out infinite;
}

@keyframes crown-glow-pulse {
  0%, 100% { 
    transform: scale(1);
    opacity: 0.3;
  }
  50% { 
    transform: scale(1.2);
    opacity: 0.6;
  }
}

.rey-crown-image {
  position: relative;
  z-index: 2;
  transition: all 0.3s ease;
}

.rey-crown-image:hover {
  transform: scale(1.1) rotate(5deg);
  filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.8)) 
          drop-shadow(0 8px 30px rgba(212, 165, 116, 0.6)) !important;
}

.rey-crown-particles {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.rey-particle {
  background: radial-gradient(circle, 
    rgba(255, 215, 0, 1) 0%, 
    rgba(255, 215, 0, 0.8) 50%, 
    transparent 100%
  );
  border-radius: 50%;
  animation: particle-float 4s ease-in-out infinite;
}

@keyframes particle-float {
  0%, 100% { 
    transform: translateY(0) scale(0.8);
    opacity: 0.6;
  }
  50% { 
    transform: translateY(-10px) scale(1.2);
    opacity: 1;
  }
}

.rey-title-container {
  position: relative;
  text-align: center;
  margin-bottom: 1rem;
}

.rey-title-underline {
  position: absolute;
  bottom: -4px;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: 2px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 215, 0, 0.8) 50%, 
    transparent 100%
  );
  animation: underline-glow 2s ease-in-out infinite;
}

@keyframes underline-glow {
  0%, 100% { 
    opacity: 0.6;
    transform: translateX(-50%) scaleX(1);
  }
  50% { 
    opacity: 1;
    transform: translateX(-50%) scaleX(1.1);
  }
}

.rey-game-info {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
  margin-top: 0.5rem;
}

.rey-info-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0.75rem;
  background: rgba(42, 26, 15, 0.6);
  border: 1px solid rgba(212, 165, 116, 0.3);
  border-radius: 20px;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
}

.rey-info-item:hover {
  background: rgba(42, 26, 15, 0.8);
  border-color: rgba(212, 165, 116, 0.5);
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

.rey-info-icon {
  font-size: 1.2rem;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
}

.rey-info-text {
  font-family: 'Oswald', sans-serif;
  font-weight: 500;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  font-size: 0.875rem;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
}

.rey-separator {
  width: 1px;
  height: 1rem;
  background: linear-gradient(180deg, 
    transparent 0%, 
    rgba(255, 215, 0, 0.6) 50%, 
    transparent 100%
  );
}

.rey-decorative-elements {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
}

.rey-corner-ornament {
  position: absolute;
  border-color: rgba(212, 165, 116, 0.4);
  transition: all 0.3s ease;
  animation: corner-glow 4s ease-in-out infinite;
}

@keyframes corner-glow {
  0%, 100% { 
    border-color: rgba(212, 165, 116, 0.3);
    box-shadow: none;
  }
  50% { 
    border-color: rgba(255, 215, 0, 0.6);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
  }
}

.rey-header-divider {
  position: relative;
  height: 1px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 215, 0, 0.6) 20%, 
    rgba(212, 165, 116, 0.8) 50%, 
    rgba(255, 215, 0, 0.6) 80%, 
    transparent 100%
  );
  animation: divider-shimmer 3s ease-in-out infinite;
}

@keyframes divider-shimmer {
  0%, 100% { 
    opacity: 0.5;
  }
  50% { 
    opacity: 1;
    filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.4));
  }
}

/* Responsive Design para el Header */
@media (max-width: 768px) {
  .rey-cinematic-header {
    min-height: 100px;
  }
  
  .rey-crown-container {
    margin-bottom: 0.5rem;
  }
  
  .rey-game-info {
    gap: 0.5rem;
    font-size: 0.75rem;
  }
  
  .rey-info-item {
    padding: 0.2rem 0.5rem;
  }
  
  .rey-info-text {
    font-size: 0.75rem;
  }
}

@media (max-width: 480px) {
  .rey-cinematic-header {
    min-height: 80px;
  }
  
  .rey-game-info {
    flex-direction: column;
    gap: 0.25rem;
  }
  
  .rey-separator {
    display: none;
  }
}

/* Gradiente radial personalizado para el glow */
.bg-gradient-radial {
  background: radial-gradient(var(--tw-gradient-stops));
}

